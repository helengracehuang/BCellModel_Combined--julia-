<!DOCTYPE html>
<html>
  <head>
    <meta http-equiv='Content-Type' content='text/html; charset=utf-8'></meta>
    <link rel='stylesheet' type='text/css' href='statprofiler.css'></link>
    <title>StatProfilerHTML - /Users/helenhuang/.julia/packages/DelayDiffEq/5rXFy/src/history_function.jl</title>
  </head>
  <body>
    <div class='report-header'>
      <div class='backlink'>
        <a href='index.html'>Report index</a>
      </div>
      <div class='report-title'>
        StatProfilerHTML.jl report
      </div>
      <div class='generated-on'>
        Generated on Mon, 11 Jul 2022 15:28:23
      </div>
    </div>
    <table>
      <caption>File source code</caption>
      <thead>
        <tr>
          <th>Line</th>
          <th>Exclusive</th>
          <th>Inclusive</th>
          <th>Code</th>
        </tr>
      </thead>
      <tbody>
        <tr id='L1'>
          <td class='lineno'>1</td>
          <td class='tracecount excl'></td>
          <td class='tracecount incl'></td>
          <td>
            
            
            <span class='code'>&quot;&quot;&quot;</span>
          </td>
        </tr>
        <tr id='L2'>
          <td class='lineno'>2</td>
          <td class='tracecount excl'></td>
          <td class='tracecount incl'></td>
          <td>
            
            
            <span class='code'>    HistoryFunction&#40;h, integrator&#41;</span>
          </td>
        </tr>
        <tr id='L3'>
          <td class='lineno'>3</td>
          <td class='tracecount excl'></td>
          <td class='tracecount incl'></td>
          <td>
            
            
            <span class='code'></span>
          </td>
        </tr>
        <tr id='L4'>
          <td class='lineno'>4</td>
          <td class='tracecount excl'></td>
          <td class='tracecount incl'></td>
          <td>
            
            
            <span class='code'>Wrap history function &#96;h&#96; and integrator &#96;integrator&#96; to create a common</span>
          </td>
        </tr>
        <tr id='L5'>
          <td class='lineno'>5</td>
          <td class='tracecount excl'></td>
          <td class='tracecount incl'></td>
          <td>
            
            
            <span class='code'>interface for retrieving values at any time point with varying accuracy.</span>
          </td>
        </tr>
        <tr id='L6'>
          <td class='lineno'>6</td>
          <td class='tracecount excl'></td>
          <td class='tracecount incl'></td>
          <td>
            
            
            <span class='code'></span>
          </td>
        </tr>
        <tr id='L7'>
          <td class='lineno'>7</td>
          <td class='tracecount excl'></td>
          <td class='tracecount incl'></td>
          <td>
            
            
            <span class='code'>Before the initial time point of the solution of the &#96;integrator&#96; values are calculated by</span>
          </td>
        </tr>
        <tr id='L8'>
          <td class='lineno'>8</td>
          <td class='tracecount excl'></td>
          <td class='tracecount incl'></td>
          <td>
            
            
            <span class='code'>history function &#96;h&#96;, for time points up to the final time point of the solution</span>
          </td>
        </tr>
        <tr id='L9'>
          <td class='lineno'>9</td>
          <td class='tracecount excl'></td>
          <td class='tracecount incl'></td>
          <td>
            
            
            <span class='code'>interpolated values of the solution are returned, and after the final time point an inter-</span>
          </td>
        </tr>
        <tr id='L10'>
          <td class='lineno'>10</td>
          <td class='tracecount excl'></td>
          <td class='tracecount incl'></td>
          <td>
            
            
            <span class='code'>or extrapolation of the current state of the &#96;integrator&#96; is retrieved.</span>
          </td>
        </tr>
        <tr id='L11'>
          <td class='lineno'>11</td>
          <td class='tracecount excl'></td>
          <td class='tracecount incl'></td>
          <td>
            
            
            <span class='code'>&quot;&quot;&quot;</span>
          </td>
        </tr>
        <tr id='L12'>
          <td class='lineno'>12</td>
          <td class='tracecount excl'></td>
          <td class='tracecount incl'></td>
          <td>
            
            
            <span class='code'>mutable struct HistoryFunction&#123;H,I&lt;:DEIntegrator&#125; &lt;: DiffEqBase.AbstractHistoryFunction</span>
          </td>
        </tr>
        <tr id='L13'>
          <td class='lineno'>13</td>
          <td class='tracecount excl'></td>
          <td class='tracecount incl'></td>
          <td>
            
            
            <span class='code'>  h::H</span>
          </td>
        </tr>
        <tr id='L14'>
          <td class='lineno'>14</td>
          <td class='tracecount excl'></td>
          <td class='tracecount incl'></td>
          <td>
            
            
            <span class='code'>  integrator::I</span>
          </td>
        </tr>
        <tr id='L15'>
          <td class='lineno'>15</td>
          <td class='tracecount excl'></td>
          <td class='tracecount incl'></td>
          <td>
            
            
            <span class='code'>  isout::Bool</span>
          </td>
        </tr>
        <tr id='L16'>
          <td class='lineno'>16</td>
          <td class='tracecount excl'></td>
          <td class='tracecount incl'></td>
          <td>
            
            
            <span class='code'>end</span>
          </td>
        </tr>
        <tr id='L17'>
          <td class='lineno'>17</td>
          <td class='tracecount excl'></td>
          <td class='tracecount incl'></td>
          <td>
            
            
            <span class='code'></span>
          </td>
        </tr>
        <tr id='L18'>
          <td class='lineno'>18</td>
          <td class='tracecount excl'></td>
          <td class='tracecount incl'></td>
          <td>
            
            
            <span class='code'>HistoryFunction&#40;h, integrator&#41; &#61; HistoryFunction&#40;h, integrator, false&#41;</span>
          </td>
        </tr>
        <tr id='L19'>
          <td class='lineno'>19</td>
          <td class='tracecount excl'></td>
          <td class='tracecount incl'></td>
          <td>
            <div class='call-sites'>
              251 &#40;0 &#37;&#41;
              samples spent in #_#27
              <br />
              11 &#40;4 &#37;&#41; &#40;ex.&#41;,
              251 &#40;100 &#37;&#41; &#40;incl.&#41;
              when called from Any##kw
              <a href='history_function.jl-67957d648c86880b29797da9b143de7811c0fe27.html#L21'>line 21</a>
              <br />
            </div>
            
            <span class='code'></span>
          </td>
        </tr>
        <tr id='L20'>
          <td class='lineno'>20</td>
          <td class='tracecount excl'>11 &#40;0 &#37;&#41;</td>
          <td class='tracecount incl'>11 &#40;0 &#37;&#41;</td>
          <td>
            
            
            <span class='code'>function &#40;f::HistoryFunction&#41;&#40;p, t, ::Type&#123;Val&#123;deriv&#125;&#125;&#61;Val&#123;0&#125;; idxs&#61;nothing&#41; where deriv</span>
          </td>
        </tr>
        <tr id='L21'>
          <td class='lineno'>21</td>
          <td class='tracecount excl'>4 &#40;0 &#37;&#41;</td>
          <td class='tracecount incl'>634 &#40;1 &#37;&#41;</td>
          <td>
            <div class='call-sites'>
              632 &#40;1 &#37;&#41;
              samples spent in Any##kw
              <br />
              
              15 &#40;2 &#37;&#41; &#40;incl.&#41;
              when called from computeNFkBFluxes&#33;
              <a href='ODE_NFkB3.jl-09bd585e1a3bb033e7f0067009344c5d15a68704.html#L26'>line 26</a>
              <br />
              
              10 &#40;2 &#37;&#41; &#40;incl.&#41;
              when called from computeNFkBFluxes&#33;
              <a href='ODE_NFkB3.jl-09bd585e1a3bb033e7f0067009344c5d15a68704.html#L31'>line 31</a>
              <br />
              
              18 &#40;3 &#37;&#41; &#40;incl.&#41;
              when called from computeNFkBFluxes&#33;
              <a href='ODE_NFkB3.jl-09bd585e1a3bb033e7f0067009344c5d15a68704.html#L11'>line 11</a>
              <br />
              
              8 &#40;1 &#37;&#41; &#40;incl.&#41;
              when called from computeNFkBFluxes&#33;
              <a href='ODE_NFkB3.jl-09bd585e1a3bb033e7f0067009344c5d15a68704.html#L21'>line 21</a>
              <br />
              
              17 &#40;3 &#37;&#41; &#40;incl.&#41;
              when called from computeNFkBFluxes&#33;
              <a href='ODE_NFkB3.jl-09bd585e1a3bb033e7f0067009344c5d15a68704.html#L20'>line 20</a>
              <br />
              
              33 &#40;5 &#37;&#41; &#40;incl.&#41;
              when called from computeNFkBFluxes&#33;
              <a href='ODE_NFkB3.jl-09bd585e1a3bb033e7f0067009344c5d15a68704.html#L24'>line 24</a>
              <br />
              
              17 &#40;3 &#37;&#41; &#40;incl.&#41;
              when called from computeNFkBFluxes&#33;
              <a href='ODE_NFkB3.jl-09bd585e1a3bb033e7f0067009344c5d15a68704.html#L27'>line 27</a>
              <br />
              
              13 &#40;2 &#37;&#41; &#40;incl.&#41;
              when called from computeNFkBFluxes&#33;
              <a href='ODE_NFkB3.jl-09bd585e1a3bb033e7f0067009344c5d15a68704.html#L19'>line 19</a>
              <br />
              
              16 &#40;3 &#37;&#41; &#40;incl.&#41;
              when called from computeNFkBFluxes&#33;
              <a href='ODE_NFkB3.jl-09bd585e1a3bb033e7f0067009344c5d15a68704.html#L22'>line 22</a>
              <br />
              
              18 &#40;3 &#37;&#41; &#40;incl.&#41;
              when called from computeNFkBFluxes&#33;
              <a href='ODE_NFkB3.jl-09bd585e1a3bb033e7f0067009344c5d15a68704.html#L15'>line 15</a>
              <br />
              
              18 &#40;3 &#37;&#41; &#40;incl.&#41;
              when called from computeNFkBFluxes&#33;
              <a href='ODE_NFkB3.jl-09bd585e1a3bb033e7f0067009344c5d15a68704.html#L14'>line 14</a>
              <br />
              
              43 &#40;7 &#37;&#41; &#40;incl.&#41;
              when called from computeNFkBFluxes&#33;
              <a href='ODE_NFkB3.jl-09bd585e1a3bb033e7f0067009344c5d15a68704.html#L29'>line 29</a>
              <br />
              
              20 &#40;3 &#37;&#41; &#40;incl.&#41;
              when called from computeNFkBFluxes&#33;
              <a href='ODE_NFkB3.jl-09bd585e1a3bb033e7f0067009344c5d15a68704.html#L30'>line 30</a>
              <br />
              
              13 &#40;2 &#37;&#41; &#40;incl.&#41;
              when called from computeNFkBFluxes&#33;
              <a href='ODE_NFkB3.jl-09bd585e1a3bb033e7f0067009344c5d15a68704.html#L16'>line 16</a>
              <br />
              4 &#40;1 &#37;&#41; &#40;ex.&#41;,
              316 &#40;50 &#37;&#41; &#40;incl.&#41;
              when called from Any##kw
              <a href='history_function.jl-67957d648c86880b29797da9b143de7811c0fe27.html#L21'>line 21</a>
              <br />
              
              8 &#40;1 &#37;&#41; &#40;incl.&#41;
              when called from computeNFkBFluxes&#33;
              <a href='ODE_NFkB3.jl-09bd585e1a3bb033e7f0067009344c5d15a68704.html#L25'>line 25</a>
              <br />
              
              12 &#40;2 &#37;&#41; &#40;incl.&#41;
              when called from computeNFkBFluxes&#33;
              <a href='ODE_NFkB3.jl-09bd585e1a3bb033e7f0067009344c5d15a68704.html#L17'>line 17</a>
              <br />
              
              17 &#40;3 &#37;&#41; &#40;incl.&#41;
              when called from computeNFkBFluxes&#33;
              <a href='ODE_NFkB3.jl-09bd585e1a3bb033e7f0067009344c5d15a68704.html#L32'>line 32</a>
              <br />
              
              20 &#40;3 &#37;&#41; &#40;incl.&#41;
              when called from computeNFkBFluxes&#33;
              <a href='ODE_NFkB3.jl-09bd585e1a3bb033e7f0067009344c5d15a68704.html#L12'>line 12</a>
              <br />
            </div>
            <div class='callees'>
              316 &#40;50 &#37;&#41;
              samples spent calling
              <a href='history_function.jl-67957d648c86880b29797da9b143de7811c0fe27.html#L21'>Any##kw</a>
              <br />
              8 &#40;1 &#37;&#41;
              samples spent calling
              <a href='generic_dense.jl-db2715ec7edd2354bb4d85d7b3fa79fdba2cf1db.html#L328'>ode_interpolation</a>
              <br />
              251 &#40;40 &#37;&#41;
              samples spent calling
              <a href='history_function.jl-67957d648c86880b29797da9b143de7811c0fe27.html#L19'>#_#27</a>
              <br />
              2 &#40;0 &#37;&#41;
              samples spent calling
              <a href='UnPack.jl-5def7cb88efab83db66ad9bcfbe83f4d40506ab6.html#L101'>macro expansion</a>
              <br />
              53 &#40;8 &#37;&#41;
              samples spent calling
              <a href='float.jl-d62556f3e975b031e127a41c32fc02dffc12dbfa.html#L19'>#_#27</a>
              <br />
            </div>
            <span class='code'>  @unpack integrator &#61; f</span>
          </td>
        </tr>
        <tr id='L22'>
          <td class='lineno'>22</td>
          <td class='tracecount excl'></td>
          <td class='tracecount incl'></td>
          <td>
            
            
            <span class='code'>  @unpack tdir, sol &#61; integrator</span>
          </td>
        </tr>
        <tr id='L23'>
          <td class='lineno'>23</td>
          <td class='tracecount excl'></td>
          <td class='tracecount incl'></td>
          <td>
            
            
            <span class='code'></span>
          </td>
        </tr>
        <tr id='L24'>
          <td class='lineno'>24</td>
          <td class='tracecount excl'></td>
          <td class='tracecount incl'></td>
          <td>
            
            
            <span class='code'>  tdir_t &#61; tdir * t</span>
          </td>
        </tr>
        <tr id='L25'>
          <td class='lineno'>25</td>
          <td class='tracecount excl'></td>
          <td class='tracecount incl'></td>
          <td>
            
            
            <span class='code'></span>
          </td>
        </tr>
        <tr id='L26'>
          <td class='lineno'>26</td>
          <td class='tracecount excl'></td>
          <td class='tracecount incl'></td>
          <td>
            
            
            <span class='code'>  @inbounds if tdir_t &lt; tdir * sol.t&#91;1&#93;</span>
          </td>
        </tr>
        <tr id='L27'>
          <td class='lineno'>27</td>
          <td class='tracecount excl'></td>
          <td class='tracecount incl'></td>
          <td>
            
            
            <span class='code'>    if deriv &#61;&#61; 0 &amp;&amp; idxs &#61;&#61;&#61; nothing</span>
          </td>
        </tr>
        <tr id='L28'>
          <td class='lineno'>28</td>
          <td class='tracecount excl'></td>
          <td class='tracecount incl'></td>
          <td>
            
            
            <span class='code'>      return f.h&#40;p, t&#41;</span>
          </td>
        </tr>
        <tr id='L29'>
          <td class='lineno'>29</td>
          <td class='tracecount excl'></td>
          <td class='tracecount incl'></td>
          <td>
            
            
            <span class='code'>    elseif idxs &#61;&#61;&#61; nothing</span>
          </td>
        </tr>
        <tr id='L30'>
          <td class='lineno'>30</td>
          <td class='tracecount excl'></td>
          <td class='tracecount incl'></td>
          <td>
            
            
            <span class='code'>      return f.h&#40;p, t, Val&#123;deriv&#125;&#41;</span>
          </td>
        </tr>
        <tr id='L31'>
          <td class='lineno'>31</td>
          <td class='tracecount excl'></td>
          <td class='tracecount incl'></td>
          <td>
            
            
            <span class='code'>    elseif deriv &#61;&#61; 0</span>
          </td>
        </tr>
        <tr id='L32'>
          <td class='lineno'>32</td>
          <td class='tracecount excl'></td>
          <td class='tracecount incl'></td>
          <td>
            
            
            <span class='code'>      return f.h&#40;p, t; idxs &#61; idxs&#41;</span>
          </td>
        </tr>
        <tr id='L33'>
          <td class='lineno'>33</td>
          <td class='tracecount excl'></td>
          <td class='tracecount incl'></td>
          <td>
            
            
            <span class='code'>    else</span>
          </td>
        </tr>
        <tr id='L34'>
          <td class='lineno'>34</td>
          <td class='tracecount excl'></td>
          <td class='tracecount incl'></td>
          <td>
            
            
            <span class='code'>      return f.h&#40;p, t, Val&#123;deriv&#125;; idxs &#61; idxs&#41;</span>
          </td>
        </tr>
        <tr id='L35'>
          <td class='lineno'>35</td>
          <td class='tracecount excl'></td>
          <td class='tracecount incl'></td>
          <td>
            
            
            <span class='code'>    end</span>
          </td>
        </tr>
        <tr id='L36'>
          <td class='lineno'>36</td>
          <td class='tracecount excl'></td>
          <td class='tracecount incl'></td>
          <td>
            
            
            <span class='code'>  end</span>
          </td>
        </tr>
        <tr id='L37'>
          <td class='lineno'>37</td>
          <td class='tracecount excl'></td>
          <td class='tracecount incl'></td>
          <td>
            
            
            <span class='code'></span>
          </td>
        </tr>
        <tr id='L38'>
          <td class='lineno'>38</td>
          <td class='tracecount excl'></td>
          <td class='tracecount incl'></td>
          <td>
            
            
            <span class='code'>  tdir_solt &#61; tdir * sol.t&#91;end&#93;</span>
          </td>
        </tr>
        <tr id='L39'>
          <td class='lineno'>39</td>
          <td class='tracecount excl'></td>
          <td class='tracecount incl'></td>
          <td>
            
            
            <span class='code'>  if tdir_t &lt;&#61; tdir_solt</span>
          </td>
        </tr>
        <tr id='L40'>
          <td class='lineno'>40</td>
          <td class='tracecount excl'>4 &#40;0 &#37;&#41;</td>
          <td class='tracecount incl'>242 &#40;0 &#37;&#41;</td>
          <td>
            
            <div class='callees'>
              238 &#40;100 &#37;&#41;
              samples spent calling
              <a href='interp_func.jl-4662cc77164d2f73edd555dd2b345647e894cbac.html#L84'>InterpolationData</a>
              <br />
            </div>
            <span class='code'>    return sol.interp&#40;t, idxs, Val&#123;deriv&#125;, p&#41;</span>
          </td>
        </tr>
        <tr id='L41'>
          <td class='lineno'>41</td>
          <td class='tracecount excl'></td>
          <td class='tracecount incl'></td>
          <td>
            
            
            <span class='code'>  end</span>
          </td>
        </tr>
        <tr id='L42'>
          <td class='lineno'>42</td>
          <td class='tracecount excl'></td>
          <td class='tracecount incl'></td>
          <td>
            
            
            <span class='code'></span>
          </td>
        </tr>
        <tr id='L43'>
          <td class='lineno'>43</td>
          <td class='tracecount excl'></td>
          <td class='tracecount incl'></td>
          <td>
            
            
            <span class='code'>  # history function is evaluated at time point past the final time point of</span>
          </td>
        </tr>
        <tr id='L44'>
          <td class='lineno'>44</td>
          <td class='tracecount excl'></td>
          <td class='tracecount incl'></td>
          <td>
            
            
            <span class='code'>  # the current solution</span>
          </td>
        </tr>
        <tr id='L45'>
          <td class='lineno'>45</td>
          <td class='tracecount excl'></td>
          <td class='tracecount incl'></td>
          <td>
            
            
            <span class='code'>  if tdir_t - tdir_solt &gt; 10 * eps&#40;tdir_t&#41;</span>
          </td>
        </tr>
        <tr id='L46'>
          <td class='lineno'>46</td>
          <td class='tracecount excl'></td>
          <td class='tracecount incl'></td>
          <td>
            
            
            <span class='code'>    f.isout &#61; true</span>
          </td>
        </tr>
        <tr id='L47'>
          <td class='lineno'>47</td>
          <td class='tracecount excl'></td>
          <td class='tracecount incl'></td>
          <td>
            
            
            <span class='code'>  end</span>
          </td>
        </tr>
        <tr id='L48'>
          <td class='lineno'>48</td>
          <td class='tracecount excl'></td>
          <td class='tracecount incl'></td>
          <td>
            
            
            <span class='code'></span>
          </td>
        </tr>
        <tr id='L49'>
          <td class='lineno'>49</td>
          <td class='tracecount excl'></td>
          <td class='tracecount incl'></td>
          <td>
            
            
            <span class='code'>  if integrator.t &#61;&#61; sol.prob.tspan&#91;1&#93;</span>
          </td>
        </tr>
        <tr id='L50'>
          <td class='lineno'>50</td>
          <td class='tracecount excl'></td>
          <td class='tracecount incl'></td>
          <td>
            
            
            <span class='code'>    # handle extrapolations at initial time point</span>
          </td>
        </tr>
        <tr id='L51'>
          <td class='lineno'>51</td>
          <td class='tracecount excl'></td>
          <td class='tracecount incl'></td>
          <td>
            
            
            <span class='code'>    return constant_extrapolant&#40;t, integrator, idxs, Val&#123;deriv&#125;&#41;</span>
          </td>
        </tr>
        <tr id='L52'>
          <td class='lineno'>52</td>
          <td class='tracecount excl'></td>
          <td class='tracecount incl'></td>
          <td>
            
            
            <span class='code'>  else</span>
          </td>
        </tr>
        <tr id='L53'>
          <td class='lineno'>53</td>
          <td class='tracecount excl'></td>
          <td class='tracecount incl'></td>
          <td>
            
            
            <span class='code'>    return integrator&#40;t, Val&#123;deriv&#125;; idxs&#61;idxs&#41;</span>
          </td>
        </tr>
        <tr id='L54'>
          <td class='lineno'>54</td>
          <td class='tracecount excl'></td>
          <td class='tracecount incl'></td>
          <td>
            
            
            <span class='code'>  end</span>
          </td>
        </tr>
        <tr id='L55'>
          <td class='lineno'>55</td>
          <td class='tracecount excl'></td>
          <td class='tracecount incl'></td>
          <td>
            
            
            <span class='code'>end</span>
          </td>
        </tr>
        <tr id='L56'>
          <td class='lineno'>56</td>
          <td class='tracecount excl'></td>
          <td class='tracecount incl'></td>
          <td>
            
            
            <span class='code'></span>
          </td>
        </tr>
        <tr id='L57'>
          <td class='lineno'>57</td>
          <td class='tracecount excl'></td>
          <td class='tracecount incl'></td>
          <td>
            
            
            <span class='code'>function &#40;f::HistoryFunction&#41;&#40;val, p, t, ::Type&#123;Val&#123;deriv&#125;&#125;&#61;Val&#123;0&#125;; idxs&#61;nothing&#41; where deriv</span>
          </td>
        </tr>
        <tr id='L58'>
          <td class='lineno'>58</td>
          <td class='tracecount excl'></td>
          <td class='tracecount incl'></td>
          <td>
            
            
            <span class='code'>  @unpack integrator &#61; f</span>
          </td>
        </tr>
        <tr id='L59'>
          <td class='lineno'>59</td>
          <td class='tracecount excl'></td>
          <td class='tracecount incl'></td>
          <td>
            
            
            <span class='code'>  @unpack tdir, sol &#61; integrator</span>
          </td>
        </tr>
        <tr id='L60'>
          <td class='lineno'>60</td>
          <td class='tracecount excl'></td>
          <td class='tracecount incl'></td>
          <td>
            
            
            <span class='code'></span>
          </td>
        </tr>
        <tr id='L61'>
          <td class='lineno'>61</td>
          <td class='tracecount excl'></td>
          <td class='tracecount incl'></td>
          <td>
            
            
            <span class='code'>  tdir_t &#61; tdir * t</span>
          </td>
        </tr>
        <tr id='L62'>
          <td class='lineno'>62</td>
          <td class='tracecount excl'></td>
          <td class='tracecount incl'></td>
          <td>
            
            
            <span class='code'></span>
          </td>
        </tr>
        <tr id='L63'>
          <td class='lineno'>63</td>
          <td class='tracecount excl'></td>
          <td class='tracecount incl'></td>
          <td>
            
            
            <span class='code'>  @inbounds if tdir_t &lt; tdir * sol.t&#91;1&#93;</span>
          </td>
        </tr>
        <tr id='L64'>
          <td class='lineno'>64</td>
          <td class='tracecount excl'></td>
          <td class='tracecount incl'></td>
          <td>
            
            
            <span class='code'>    if deriv &#61;&#61; 0 &amp;&amp; idxs &#61;&#61;&#61; nothing</span>
          </td>
        </tr>
        <tr id='L65'>
          <td class='lineno'>65</td>
          <td class='tracecount excl'></td>
          <td class='tracecount incl'></td>
          <td>
            
            
            <span class='code'>      return f.h&#40;val, p, t&#41;</span>
          </td>
        </tr>
        <tr id='L66'>
          <td class='lineno'>66</td>
          <td class='tracecount excl'></td>
          <td class='tracecount incl'></td>
          <td>
            
            
            <span class='code'>    elseif idxs &#61;&#61;&#61; nothing</span>
          </td>
        </tr>
        <tr id='L67'>
          <td class='lineno'>67</td>
          <td class='tracecount excl'></td>
          <td class='tracecount incl'></td>
          <td>
            
            
            <span class='code'>      return f.h&#40;val, p, t, Val&#123;deriv&#125;&#41;</span>
          </td>
        </tr>
        <tr id='L68'>
          <td class='lineno'>68</td>
          <td class='tracecount excl'></td>
          <td class='tracecount incl'></td>
          <td>
            
            
            <span class='code'>    elseif deriv &#61;&#61; 0</span>
          </td>
        </tr>
        <tr id='L69'>
          <td class='lineno'>69</td>
          <td class='tracecount excl'></td>
          <td class='tracecount incl'></td>
          <td>
            
            
            <span class='code'>      return f.h&#40;val, p, t; idxs &#61; idxs&#41;</span>
          </td>
        </tr>
        <tr id='L70'>
          <td class='lineno'>70</td>
          <td class='tracecount excl'></td>
          <td class='tracecount incl'></td>
          <td>
            
            
            <span class='code'>    else</span>
          </td>
        </tr>
        <tr id='L71'>
          <td class='lineno'>71</td>
          <td class='tracecount excl'></td>
          <td class='tracecount incl'></td>
          <td>
            
            
            <span class='code'>      return f.h&#40;val, p, t, Val&#123;deriv&#125;; idxs &#61; idxs&#41;</span>
          </td>
        </tr>
        <tr id='L72'>
          <td class='lineno'>72</td>
          <td class='tracecount excl'></td>
          <td class='tracecount incl'></td>
          <td>
            
            
            <span class='code'>    end</span>
          </td>
        </tr>
        <tr id='L73'>
          <td class='lineno'>73</td>
          <td class='tracecount excl'></td>
          <td class='tracecount incl'></td>
          <td>
            
            
            <span class='code'>  end</span>
          </td>
        </tr>
        <tr id='L74'>
          <td class='lineno'>74</td>
          <td class='tracecount excl'></td>
          <td class='tracecount incl'></td>
          <td>
            
            
            <span class='code'></span>
          </td>
        </tr>
        <tr id='L75'>
          <td class='lineno'>75</td>
          <td class='tracecount excl'></td>
          <td class='tracecount incl'></td>
          <td>
            
            
            <span class='code'>  tdir_solt &#61; tdir * sol.t&#91;end&#93;</span>
          </td>
        </tr>
        <tr id='L76'>
          <td class='lineno'>76</td>
          <td class='tracecount excl'></td>
          <td class='tracecount incl'></td>
          <td>
            
            
            <span class='code'>  if tdir_t &lt;&#61; tdir_solt</span>
          </td>
        </tr>
        <tr id='L77'>
          <td class='lineno'>77</td>
          <td class='tracecount excl'></td>
          <td class='tracecount incl'></td>
          <td>
            
            
            <span class='code'>    return sol.interp&#40;val, t, idxs, Val&#123;deriv&#125;, p&#41;</span>
          </td>
        </tr>
        <tr id='L78'>
          <td class='lineno'>78</td>
          <td class='tracecount excl'></td>
          <td class='tracecount incl'></td>
          <td>
            
            
            <span class='code'>  end</span>
          </td>
        </tr>
        <tr id='L79'>
          <td class='lineno'>79</td>
          <td class='tracecount excl'></td>
          <td class='tracecount incl'></td>
          <td>
            
            
            <span class='code'></span>
          </td>
        </tr>
        <tr id='L80'>
          <td class='lineno'>80</td>
          <td class='tracecount excl'></td>
          <td class='tracecount incl'></td>
          <td>
            
            
            <span class='code'>  # history function is evaluated at time point past the final time point of</span>
          </td>
        </tr>
        <tr id='L81'>
          <td class='lineno'>81</td>
          <td class='tracecount excl'></td>
          <td class='tracecount incl'></td>
          <td>
            
            
            <span class='code'>  # the current solution</span>
          </td>
        </tr>
        <tr id='L82'>
          <td class='lineno'>82</td>
          <td class='tracecount excl'></td>
          <td class='tracecount incl'></td>
          <td>
            
            
            <span class='code'>  if tdir_t - tdir_solt &gt; 10 * eps&#40;tdir_t&#41;</span>
          </td>
        </tr>
        <tr id='L83'>
          <td class='lineno'>83</td>
          <td class='tracecount excl'></td>
          <td class='tracecount incl'></td>
          <td>
            
            
            <span class='code'>    f.isout &#61; true</span>
          </td>
        </tr>
        <tr id='L84'>
          <td class='lineno'>84</td>
          <td class='tracecount excl'></td>
          <td class='tracecount incl'></td>
          <td>
            
            
            <span class='code'>  end</span>
          </td>
        </tr>
        <tr id='L85'>
          <td class='lineno'>85</td>
          <td class='tracecount excl'></td>
          <td class='tracecount incl'></td>
          <td>
            
            
            <span class='code'></span>
          </td>
        </tr>
        <tr id='L86'>
          <td class='lineno'>86</td>
          <td class='tracecount excl'></td>
          <td class='tracecount incl'></td>
          <td>
            
            
            <span class='code'>  if integrator.t &#61;&#61; sol.prob.tspan&#91;1&#93;</span>
          </td>
        </tr>
        <tr id='L87'>
          <td class='lineno'>87</td>
          <td class='tracecount excl'></td>
          <td class='tracecount incl'></td>
          <td>
            
            
            <span class='code'>    # handle extrapolations at initial time point</span>
          </td>
        </tr>
        <tr id='L88'>
          <td class='lineno'>88</td>
          <td class='tracecount excl'></td>
          <td class='tracecount incl'></td>
          <td>
            
            
            <span class='code'>    return constant_extrapolant&#33;&#40;val, t, integrator, idxs, Val&#123;deriv&#125;&#41;</span>
          </td>
        </tr>
        <tr id='L89'>
          <td class='lineno'>89</td>
          <td class='tracecount excl'></td>
          <td class='tracecount incl'></td>
          <td>
            
            
            <span class='code'>  else</span>
          </td>
        </tr>
        <tr id='L90'>
          <td class='lineno'>90</td>
          <td class='tracecount excl'></td>
          <td class='tracecount incl'></td>
          <td>
            
            
            <span class='code'>    return integrator&#40;val, t, Val&#123;deriv&#125;; idxs&#61;idxs&#41;</span>
          </td>
        </tr>
        <tr id='L91'>
          <td class='lineno'>91</td>
          <td class='tracecount excl'></td>
          <td class='tracecount incl'></td>
          <td>
            
            
            <span class='code'>  end</span>
          </td>
        </tr>
        <tr id='L92'>
          <td class='lineno'>92</td>
          <td class='tracecount excl'></td>
          <td class='tracecount incl'></td>
          <td>
            
            
            <span class='code'>end</span>
          </td>
        </tr>
      </tbody>
    </table>
  </body>
</html>

