<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
   "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html>
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
    <link rel="stylesheet" type="text/css" href="statprofiler.css">

    <title>StatProfilerHTML.jl: /Users/xinhuang/.julia/packages/SoftGlobalScope/u4UzH/src/SoftGlobalScope.jl</title>
  </head>
  <body>
<div class="report-header">
  <div class="backlink"><a href="index.html">Report index</a></div>
  <div class="report-title">StatProfilerHTML.jl report</div>
  <div class="generated-on">Generated on Fri Sep 10 19:47:28 2021</div>
</div>

    <div id="body-content">
      <table>
        <caption>File source code</caption>
        <tr>
          <th>Line</td>
          <th>Exclusive</th>
          <th>Inclusive</th>
          <th>Code</th>
        </tr>

        <tr>
          <td><a name="LSoftGlobalScope-jl-14d5dc20d77dcb6071a1-line.html-1"></a>1</td>
          <td></td>
          <td></td>
          <td>
            <span class="code">&quot;&quot;&quot;
</span>
          </td>
        </tr>

        <tr>
          <td><a name="LSoftGlobalScope-jl-14d5dc20d77dcb6071a1-line.html-2"></a>2</td>
          <td></td>
          <td></td>
          <td>
            <span class="code">SoftGlobalScope is a package that simplifies the [variable scoping rules](https://docs.julialang.org/en/stable/manual/variables-and-scoping/)
</span>
          </td>
        </tr>

        <tr>
          <td><a name="LSoftGlobalScope-jl-14d5dc20d77dcb6071a1-line.html-3"></a>3</td>
          <td></td>
          <td></td>
          <td>
            <span class="code">for code in *global* scope.   It is intended for interactive shells (the REPL, [IJulia](https://github.com/JuliaLang/IJulia.jl),
</span>
          </td>
        </tr>

        <tr>
          <td><a name="LSoftGlobalScope-jl-14d5dc20d77dcb6071a1-line.html-4"></a>4</td>
          <td></td>
          <td></td>
          <td>
            <span class="code">etcetera) to make it easier to work interactively with Julia, especially for beginners.
</span>
          </td>
        </tr>

        <tr>
          <td><a name="LSoftGlobalScope-jl-14d5dc20d77dcb6071a1-line.html-5"></a>5</td>
          <td></td>
          <td></td>
          <td>
            <span class="code">
</span>
          </td>
        </tr>

        <tr>
          <td><a name="LSoftGlobalScope-jl-14d5dc20d77dcb6071a1-line.html-6"></a>6</td>
          <td></td>
          <td></td>
          <td>
            <span class="code">In particular, SoftGlobalScope provides a function `softscope` that can transform Julia code from using the default
</span>
          </td>
        </tr>

        <tr>
          <td><a name="LSoftGlobalScope-jl-14d5dc20d77dcb6071a1-line.html-7"></a>7</td>
          <td></td>
          <td></td>
          <td>
            <span class="code">&quot;hard&quot; (local) scoping rules to simpler &quot;soft&quot; scoping rules in global scope, and a function `softscope_include_string`
</span>
          </td>
        </tr>

        <tr>
          <td><a name="LSoftGlobalScope-jl-14d5dc20d77dcb6071a1-line.html-8"></a>8</td>
          <td></td>
          <td></td>
          <td>
            <span class="code">that can evaluate a whole string (similar to `include_string`) using these rules.
</span>
          </td>
        </tr>

        <tr>
          <td><a name="LSoftGlobalScope-jl-14d5dc20d77dcb6071a1-line.html-9"></a>9</td>
          <td></td>
          <td></td>
          <td>
            <span class="code">
</span>
          </td>
        </tr>

        <tr>
          <td><a name="LSoftGlobalScope-jl-14d5dc20d77dcb6071a1-line.html-10"></a>10</td>
          <td></td>
          <td></td>
          <td>
            <span class="code">For example, if `s` is a global variable in the current module (e.g. `Main`), the following code is an error in
</span>
          </td>
        </tr>

        <tr>
          <td><a name="LSoftGlobalScope-jl-14d5dc20d77dcb6071a1-line.html-11"></a>11</td>
          <td></td>
          <td></td>
          <td>
            <span class="code">Julia 1.0:
</span>
          </td>
        </tr>

        <tr>
          <td><a name="LSoftGlobalScope-jl-14d5dc20d77dcb6071a1-line.html-12"></a>12</td>
          <td></td>
          <td></td>
          <td>
            <span class="code">```
</span>
          </td>
        </tr>

        <tr>
          <td><a name="LSoftGlobalScope-jl-14d5dc20d77dcb6071a1-line.html-13"></a>13</td>
          <td></td>
          <td></td>
          <td>
            <span class="code">for i = 1:10
</span>
          </td>
        </tr>

        <tr>
          <td><a name="LSoftGlobalScope-jl-14d5dc20d77dcb6071a1-line.html-14"></a>14</td>
          <td></td>
          <td></td>
          <td>
            <span class="code">    s += i     # declares a new local variable `s`
</span>
          </td>
        </tr>

        <tr>
          <td><a name="LSoftGlobalScope-jl-14d5dc20d77dcb6071a1-line.html-15"></a>15</td>
          <td></td>
          <td></td>
          <td>
            <span class="code">end
</span>
          </td>
        </tr>

        <tr>
          <td><a name="LSoftGlobalScope-jl-14d5dc20d77dcb6071a1-line.html-16"></a>16</td>
          <td></td>
          <td></td>
          <td>
            <span class="code">```
</span>
          </td>
        </tr>

        <tr>
          <td><a name="LSoftGlobalScope-jl-14d5dc20d77dcb6071a1-line.html-17"></a>17</td>
          <td></td>
          <td></td>
          <td>
            <span class="code">Instead, you can transform the expression using `softscope` to automatically insert the necessary `global` keyword:
</span>
          </td>
        </tr>

        <tr>
          <td><a name="LSoftGlobalScope-jl-14d5dc20d77dcb6071a1-line.html-18"></a>18</td>
          <td></td>
          <td></td>
          <td>
            <span class="code">```jl
</span>
          </td>
        </tr>

        <tr>
          <td><a name="LSoftGlobalScope-jl-14d5dc20d77dcb6071a1-line.html-19"></a>19</td>
          <td></td>
          <td></td>
          <td>
            <span class="code">julia&gt; softscope(Main, :(for i = 1:10
</span>
          </td>
        </tr>

        <tr>
          <td><a name="LSoftGlobalScope-jl-14d5dc20d77dcb6071a1-line.html-20"></a>20</td>
          <td></td>
          <td></td>
          <td>
            <span class="code">           s += i
</span>
          </td>
        </tr>

        <tr>
          <td><a name="LSoftGlobalScope-jl-14d5dc20d77dcb6071a1-line.html-21"></a>21</td>
          <td></td>
          <td></td>
          <td>
            <span class="code">       end))
</span>
          </td>
        </tr>

        <tr>
          <td><a name="LSoftGlobalScope-jl-14d5dc20d77dcb6071a1-line.html-22"></a>22</td>
          <td></td>
          <td></td>
          <td>
            <span class="code">:(for i = 1:10
</span>
          </td>
        </tr>

        <tr>
          <td><a name="LSoftGlobalScope-jl-14d5dc20d77dcb6071a1-line.html-23"></a>23</td>
          <td></td>
          <td></td>
          <td>
            <span class="code">      #= REPL[3]:2 =#
</span>
          </td>
        </tr>

        <tr>
          <td><a name="LSoftGlobalScope-jl-14d5dc20d77dcb6071a1-line.html-24"></a>24</td>
          <td></td>
          <td></td>
          <td>
            <span class="code">      global s += i
</span>
          </td>
        </tr>

        <tr>
          <td><a name="LSoftGlobalScope-jl-14d5dc20d77dcb6071a1-line.html-25"></a>25</td>
          <td></td>
          <td></td>
          <td>
            <span class="code">  end)
</span>
          </td>
        </tr>

        <tr>
          <td><a name="LSoftGlobalScope-jl-14d5dc20d77dcb6071a1-line.html-26"></a>26</td>
          <td></td>
          <td></td>
          <td>
            <span class="code">```
</span>
          </td>
        </tr>

        <tr>
          <td><a name="LSoftGlobalScope-jl-14d5dc20d77dcb6071a1-line.html-27"></a>27</td>
          <td></td>
          <td></td>
          <td>
            <span class="code">You can then execute the statement with `eval`. Alternatively, you can decorate
</span>
          </td>
        </tr>

        <tr>
          <td><a name="LSoftGlobalScope-jl-14d5dc20d77dcb6071a1-line.html-28"></a>28</td>
          <td></td>
          <td></td>
          <td>
            <span class="code">the expression with the `@softscope` macro:
</span>
          </td>
        </tr>

        <tr>
          <td><a name="LSoftGlobalScope-jl-14d5dc20d77dcb6071a1-line.html-29"></a>29</td>
          <td></td>
          <td></td>
          <td>
            <span class="code">```jl
</span>
          </td>
        </tr>

        <tr>
          <td><a name="LSoftGlobalScope-jl-14d5dc20d77dcb6071a1-line.html-30"></a>30</td>
          <td></td>
          <td></td>
          <td>
            <span class="code">julia&gt; s = 0;
</span>
          </td>
        </tr>

        <tr>
          <td><a name="LSoftGlobalScope-jl-14d5dc20d77dcb6071a1-line.html-31"></a>31</td>
          <td></td>
          <td></td>
          <td>
            <span class="code">
</span>
          </td>
        </tr>

        <tr>
          <td><a name="LSoftGlobalScope-jl-14d5dc20d77dcb6071a1-line.html-32"></a>32</td>
          <td></td>
          <td></td>
          <td>
            <span class="code">julia&gt; @softscope for i = 1:10
</span>
          </td>
        </tr>

        <tr>
          <td><a name="LSoftGlobalScope-jl-14d5dc20d77dcb6071a1-line.html-33"></a>33</td>
          <td></td>
          <td></td>
          <td>
            <span class="code">           s += i
</span>
          </td>
        </tr>

        <tr>
          <td><a name="LSoftGlobalScope-jl-14d5dc20d77dcb6071a1-line.html-34"></a>34</td>
          <td></td>
          <td></td>
          <td>
            <span class="code">       end
</span>
          </td>
        </tr>

        <tr>
          <td><a name="LSoftGlobalScope-jl-14d5dc20d77dcb6071a1-line.html-35"></a>35</td>
          <td></td>
          <td></td>
          <td>
            <span class="code">
</span>
          </td>
        </tr>

        <tr>
          <td><a name="LSoftGlobalScope-jl-14d5dc20d77dcb6071a1-line.html-36"></a>36</td>
          <td></td>
          <td></td>
          <td>
            <span class="code">julia&gt; s
</span>
          </td>
        </tr>

        <tr>
          <td><a name="LSoftGlobalScope-jl-14d5dc20d77dcb6071a1-line.html-37"></a>37</td>
          <td></td>
          <td></td>
          <td>
            <span class="code">55
</span>
          </td>
        </tr>

        <tr>
          <td><a name="LSoftGlobalScope-jl-14d5dc20d77dcb6071a1-line.html-38"></a>38</td>
          <td></td>
          <td></td>
          <td>
            <span class="code">```
</span>
          </td>
        </tr>

        <tr>
          <td><a name="LSoftGlobalScope-jl-14d5dc20d77dcb6071a1-line.html-39"></a>39</td>
          <td></td>
          <td></td>
          <td>
            <span class="code">This macro should only be used in the global scope (e.g., via the REPL); using
</span>
          </td>
        </tr>

        <tr>
          <td><a name="LSoftGlobalScope-jl-14d5dc20d77dcb6071a1-line.html-40"></a>40</td>
          <td></td>
          <td></td>
          <td>
            <span class="code">this macro within a function is likely to lead to unintended consequences.
</span>
          </td>
        </tr>

        <tr>
          <td><a name="LSoftGlobalScope-jl-14d5dc20d77dcb6071a1-line.html-41"></a>41</td>
          <td></td>
          <td></td>
          <td>
            <span class="code">
</span>
          </td>
        </tr>

        <tr>
          <td><a name="LSoftGlobalScope-jl-14d5dc20d77dcb6071a1-line.html-42"></a>42</td>
          <td></td>
          <td></td>
          <td>
            <span class="code">You can execute an entire sequence of statements using &quot;soft&quot; global scoping
</span>
          </td>
        </tr>

        <tr>
          <td><a name="LSoftGlobalScope-jl-14d5dc20d77dcb6071a1-line.html-43"></a>43</td>
          <td></td>
          <td></td>
          <td>
            <span class="code">rules via `softscope_include_string`:
</span>
          </td>
        </tr>

        <tr>
          <td><a name="LSoftGlobalScope-jl-14d5dc20d77dcb6071a1-line.html-44"></a>44</td>
          <td></td>
          <td></td>
          <td>
            <span class="code">```jl
</span>
          </td>
        </tr>

        <tr>
          <td><a name="LSoftGlobalScope-jl-14d5dc20d77dcb6071a1-line.html-45"></a>45</td>
          <td></td>
          <td></td>
          <td>
            <span class="code">julia&gt; softscope_include_string(Main, \&quot;\&quot;\&quot;
</span>
          </td>
        </tr>

        <tr>
          <td><a name="LSoftGlobalScope-jl-14d5dc20d77dcb6071a1-line.html-46"></a>46</td>
          <td></td>
          <td></td>
          <td>
            <span class="code">       s = 0
</span>
          </td>
        </tr>

        <tr>
          <td><a name="LSoftGlobalScope-jl-14d5dc20d77dcb6071a1-line.html-47"></a>47</td>
          <td></td>
          <td></td>
          <td>
            <span class="code">       for i = 1:10
</span>
          </td>
        </tr>

        <tr>
          <td><a name="LSoftGlobalScope-jl-14d5dc20d77dcb6071a1-line.html-48"></a>48</td>
          <td></td>
          <td></td>
          <td>
            <span class="code">           s += i
</span>
          </td>
        </tr>

        <tr>
          <td><a name="LSoftGlobalScope-jl-14d5dc20d77dcb6071a1-line.html-49"></a>49</td>
          <td></td>
          <td></td>
          <td>
            <span class="code">       end
</span>
          </td>
        </tr>

        <tr>
          <td><a name="LSoftGlobalScope-jl-14d5dc20d77dcb6071a1-line.html-50"></a>50</td>
          <td></td>
          <td></td>
          <td>
            <span class="code">       s
</span>
          </td>
        </tr>

        <tr>
          <td><a name="LSoftGlobalScope-jl-14d5dc20d77dcb6071a1-line.html-51"></a>51</td>
          <td></td>
          <td></td>
          <td>
            <span class="code">       \&quot;\&quot;\&quot;)
</span>
          </td>
        </tr>

        <tr>
          <td><a name="LSoftGlobalScope-jl-14d5dc20d77dcb6071a1-line.html-52"></a>52</td>
          <td></td>
          <td></td>
          <td>
            <span class="code">55
</span>
          </td>
        </tr>

        <tr>
          <td><a name="LSoftGlobalScope-jl-14d5dc20d77dcb6071a1-line.html-53"></a>53</td>
          <td></td>
          <td></td>
          <td>
            <span class="code">```
</span>
          </td>
        </tr>

        <tr>
          <td><a name="LSoftGlobalScope-jl-14d5dc20d77dcb6071a1-line.html-54"></a>54</td>
          <td></td>
          <td></td>
          <td>
            <span class="code">(This function works like `include_string`, returning the value of the last evaluated expression.)
</span>
          </td>
        </tr>

        <tr>
          <td><a name="LSoftGlobalScope-jl-14d5dc20d77dcb6071a1-line.html-55"></a>55</td>
          <td></td>
          <td></td>
          <td>
            <span class="code">
</span>
          </td>
        </tr>

        <tr>
          <td><a name="LSoftGlobalScope-jl-14d5dc20d77dcb6071a1-line.html-56"></a>56</td>
          <td></td>
          <td></td>
          <td>
            <span class="code">On Julia 0.6, `softscope` is the identity and `softscope_include_string` is equivalent to
</span>
          </td>
        </tr>

        <tr>
          <td><a name="LSoftGlobalScope-jl-14d5dc20d77dcb6071a1-line.html-57"></a>57</td>
          <td></td>
          <td></td>
          <td>
            <span class="code">`include_string`, since the `global` keyword is not needed there.
</span>
          </td>
        </tr>

        <tr>
          <td><a name="LSoftGlobalScope-jl-14d5dc20d77dcb6071a1-line.html-58"></a>58</td>
          <td></td>
          <td></td>
          <td>
            <span class="code">&quot;&quot;&quot;
</span>
          </td>
        </tr>

        <tr>
          <td><a name="LSoftGlobalScope-jl-14d5dc20d77dcb6071a1-line.html-59"></a>59</td>
          <td></td>
          <td></td>
          <td>
            <span class="code">module SoftGlobalScope
</span>
          </td>
        </tr>

        <tr>
          <td><a name="LSoftGlobalScope-jl-14d5dc20d77dcb6071a1-line.html-60"></a>60</td>
          <td></td>
          <td></td>
          <td>
            <span class="code">export softscope, softscope_include_string, @softscope
</span>
          </td>
        </tr>

        <tr>
          <td><a name="LSoftGlobalScope-jl-14d5dc20d77dcb6071a1-line.html-61"></a>61</td>
          <td></td>
          <td></td>
          <td>
            <span class="code">import REPL
</span>
          </td>
        </tr>

        <tr>
          <td><a name="LSoftGlobalScope-jl-14d5dc20d77dcb6071a1-line.html-62"></a>62</td>
          <td></td>
          <td></td>
          <td>
            <span class="code">
</span>
          </td>
        </tr>

        <tr>
          <td><a name="LSoftGlobalScope-jl-14d5dc20d77dcb6071a1-line.html-63"></a>63</td>
          <td></td>
          <td></td>
          <td>
            <span class="code">if VERSION &gt;= v&quot;1.5.0-DEV.263&quot; # after julia#34595 we can use the built-in REPL.softscope function
</span>
          </td>
        </tr>

        <tr>
          <td><a name="LSoftGlobalScope-jl-14d5dc20d77dcb6071a1-line.html-64"></a>64</td>
          <td></td>
          <td></td>
          <td>
            <div class="call-sites">
              <a name="S-Users-xinhuang-julia-packages-SoftGlobalScope-u4UzH-src-SoftGlobalScope-jl-softscope_include_string-64"></a>
              13673 (98.67%) samples spent in softscope_include_string<br />
              0 (ex.),
              13673 (100.00%) (incl.)
              when called from
              execute_request
              <a href="execute_request-jl-30a3542973a31ba14e51-line.html#Lexecute_request-jl-30a3542973a31ba14e51-line.html-67">line 67</a><br />
            </div>
            <span class="code">    softscope(m::Module, ast) = REPL.softscope(ast)
</span>
          </td>
        </tr>

        <tr>
          <td><a name="LSoftGlobalScope-jl-14d5dc20d77dcb6071a1-line.html-65"></a>65</td>
          <td></td>
          <td>13673 (98.67%)</td>
          <td>
            <div class="callees">
              13673 (100.00%)
              samples spent calling
              <a href="loading-jl-13821da5ab9288bcdcb9-line.html#S-Applications-Julia-1-5-app-Contents-Resources-julia-bin-share-julia-base-loading-jl-include_string-1084">include_string</a><br />
            </div>
            <span class="code">    softscope_include_string(m::Module, code::AbstractString, filename::AbstractString=&quot;string&quot;) =
</span>
          </td>
        </tr>

        <tr>
          <td><a name="LSoftGlobalScope-jl-14d5dc20d77dcb6071a1-line.html-66"></a>66</td>
          <td></td>
          <td></td>
          <td>
            <span class="code">        include_string(REPL.softscope, m, code, filename)
</span>
          </td>
        </tr>

        <tr>
          <td><a name="LSoftGlobalScope-jl-14d5dc20d77dcb6071a1-line.html-67"></a>67</td>
          <td></td>
          <td></td>
          <td>
            <span class="code">else
</span>
          </td>
        </tr>

        <tr>
          <td><a name="LSoftGlobalScope-jl-14d5dc20d77dcb6071a1-line.html-68"></a>68</td>
          <td></td>
          <td></td>
          <td>
            <span class="code">    using Base.Meta: isexpr
</span>
          </td>
        </tr>

        <tr>
          <td><a name="LSoftGlobalScope-jl-14d5dc20d77dcb6071a1-line.html-69"></a>69</td>
          <td></td>
          <td></td>
          <td>
            <span class="code">
</span>
          </td>
        </tr>

        <tr>
          <td><a name="LSoftGlobalScope-jl-14d5dc20d77dcb6071a1-line.html-70"></a>70</td>
          <td></td>
          <td></td>
          <td>
            <span class="code">    const assignments = Set((:(=), :(+=), :(-=), :(*=), :(/=), :(//=), :(\=), :(^=), :(÷=), :(%=), :(&lt;&lt;=), :(&gt;&gt;=), :(&gt;&gt;&gt;=), :(|=), :(&amp;=), :(⊻=), :($=)))
</span>
          </td>
        </tr>

        <tr>
          <td><a name="LSoftGlobalScope-jl-14d5dc20d77dcb6071a1-line.html-71"></a>71</td>
          <td></td>
          <td></td>
          <td>
            <span class="code">    const calls = Set((:call, :comparison, :(&amp;&amp;), :(||), :ref, :tuple))
</span>
          </td>
        </tr>

        <tr>
          <td><a name="LSoftGlobalScope-jl-14d5dc20d77dcb6071a1-line.html-72"></a>72</td>
          <td></td>
          <td></td>
          <td>
            <span class="code">
</span>
          </td>
        </tr>

        <tr>
          <td><a name="LSoftGlobalScope-jl-14d5dc20d77dcb6071a1-line.html-73"></a>73</td>
          <td></td>
          <td></td>
          <td>
            <span class="code">    # extract the local variable names (e.g. `[:x]`) from assignments (e.g. `x=1`) etc.
</span>
          </td>
        </tr>

        <tr>
          <td><a name="LSoftGlobalScope-jl-14d5dc20d77dcb6071a1-line.html-74"></a>74</td>
          <td></td>
          <td></td>
          <td>
            <span class="code">    function localvars(ex::Expr)
</span>
          </td>
        </tr>

        <tr>
          <td><a name="LSoftGlobalScope-jl-14d5dc20d77dcb6071a1-line.html-75"></a>75</td>
          <td></td>
          <td></td>
          <td>
            <span class="code">        if isexpr(ex, :(=)) || isexpr(ex, :(::))
</span>
          </td>
        </tr>

        <tr>
          <td><a name="LSoftGlobalScope-jl-14d5dc20d77dcb6071a1-line.html-76"></a>76</td>
          <td></td>
          <td></td>
          <td>
            <span class="code">            return localvars(ex.args[1])
</span>
          </td>
        </tr>

        <tr>
          <td><a name="LSoftGlobalScope-jl-14d5dc20d77dcb6071a1-line.html-77"></a>77</td>
          <td></td>
          <td></td>
          <td>
            <span class="code">        elseif isexpr(ex, :tuple) || isexpr(ex, :block)
</span>
          </td>
        </tr>

        <tr>
          <td><a name="LSoftGlobalScope-jl-14d5dc20d77dcb6071a1-line.html-78"></a>78</td>
          <td></td>
          <td></td>
          <td>
            <span class="code">            return localvars(ex.args)
</span>
          </td>
        </tr>

        <tr>
          <td><a name="LSoftGlobalScope-jl-14d5dc20d77dcb6071a1-line.html-79"></a>79</td>
          <td></td>
          <td></td>
          <td>
            <span class="code">        else
</span>
          </td>
        </tr>

        <tr>
          <td><a name="LSoftGlobalScope-jl-14d5dc20d77dcb6071a1-line.html-80"></a>80</td>
          <td></td>
          <td></td>
          <td>
            <span class="code">            return Any[]
</span>
          </td>
        </tr>

        <tr>
          <td><a name="LSoftGlobalScope-jl-14d5dc20d77dcb6071a1-line.html-81"></a>81</td>
          <td></td>
          <td></td>
          <td>
            <span class="code">        end
</span>
          </td>
        </tr>

        <tr>
          <td><a name="LSoftGlobalScope-jl-14d5dc20d77dcb6071a1-line.html-82"></a>82</td>
          <td></td>
          <td></td>
          <td>
            <span class="code">    end
</span>
          </td>
        </tr>

        <tr>
          <td><a name="LSoftGlobalScope-jl-14d5dc20d77dcb6071a1-line.html-83"></a>83</td>
          <td></td>
          <td></td>
          <td>
            <span class="code">    localvars(ex::Symbol) = [ex]
</span>
          </td>
        </tr>

        <tr>
          <td><a name="LSoftGlobalScope-jl-14d5dc20d77dcb6071a1-line.html-84"></a>84</td>
          <td></td>
          <td></td>
          <td>
            <span class="code">    localvars(ex) = Any[]
</span>
          </td>
        </tr>

        <tr>
          <td><a name="LSoftGlobalScope-jl-14d5dc20d77dcb6071a1-line.html-85"></a>85</td>
          <td></td>
          <td></td>
          <td>
            <span class="code">    localvars(a::Vector) = vcat(localvars.(a)...)
</span>
          </td>
        </tr>

        <tr>
          <td><a name="LSoftGlobalScope-jl-14d5dc20d77dcb6071a1-line.html-86"></a>86</td>
          <td></td>
          <td></td>
          <td>
            <span class="code">
</span>
          </td>
        </tr>

        <tr>
          <td><a name="LSoftGlobalScope-jl-14d5dc20d77dcb6071a1-line.html-87"></a>87</td>
          <td></td>
          <td></td>
          <td>
            <span class="code">    # Deal with assignments where the LHS is always local but the RHS might require global statements
</span>
          </td>
        </tr>

        <tr>
          <td><a name="LSoftGlobalScope-jl-14d5dc20d77dcb6071a1-line.html-88"></a>88</td>
          <td></td>
          <td></td>
          <td>
            <span class="code">    # For example, with previously defined a, let a = (a = 1) ; end -&gt; let a = (global a = 1) ; end
</span>
          </td>
        </tr>

        <tr>
          <td><a name="LSoftGlobalScope-jl-14d5dc20d77dcb6071a1-line.html-89"></a>89</td>
          <td></td>
          <td></td>
          <td>
            <span class="code">    function localassignment(ex, globals, locals, insertglobal)
</span>
          </td>
        </tr>

        <tr>
          <td><a name="LSoftGlobalScope-jl-14d5dc20d77dcb6071a1-line.html-90"></a>90</td>
          <td></td>
          <td></td>
          <td>
            <span class="code">        if isexpr(ex, :block)
</span>
          </td>
        </tr>

        <tr>
          <td><a name="LSoftGlobalScope-jl-14d5dc20d77dcb6071a1-line.html-91"></a>91</td>
          <td></td>
          <td></td>
          <td>
            <span class="code">            args = []
</span>
          </td>
        </tr>

        <tr>
          <td><a name="LSoftGlobalScope-jl-14d5dc20d77dcb6071a1-line.html-92"></a>92</td>
          <td></td>
          <td></td>
          <td>
            <span class="code">            for arg in ex.args
</span>
          </td>
        </tr>

        <tr>
          <td><a name="LSoftGlobalScope-jl-14d5dc20d77dcb6071a1-line.html-93"></a>93</td>
          <td></td>
          <td></td>
          <td>
            <span class="code">                if isexpr(arg, :(=))
</span>
          </td>
        </tr>

        <tr>
          <td><a name="LSoftGlobalScope-jl-14d5dc20d77dcb6071a1-line.html-94"></a>94</td>
          <td></td>
          <td></td>
          <td>
            <span class="code">                    push!(args, Expr(arg.head, arg.args[1], _softscope(arg.args[2], globals, locals, insertglobal)))
</span>
          </td>
        </tr>

        <tr>
          <td><a name="LSoftGlobalScope-jl-14d5dc20d77dcb6071a1-line.html-95"></a>95</td>
          <td></td>
          <td></td>
          <td>
            <span class="code">                    union!(locals, localvars(arg.args[1]))
</span>
          </td>
        </tr>

        <tr>
          <td><a name="LSoftGlobalScope-jl-14d5dc20d77dcb6071a1-line.html-96"></a>96</td>
          <td></td>
          <td></td>
          <td>
            <span class="code">                elseif arg isa Symbol
</span>
          </td>
        </tr>

        <tr>
          <td><a name="LSoftGlobalScope-jl-14d5dc20d77dcb6071a1-line.html-97"></a>97</td>
          <td></td>
          <td></td>
          <td>
            <span class="code">                    push!(args, arg)
</span>
          </td>
        </tr>

        <tr>
          <td><a name="LSoftGlobalScope-jl-14d5dc20d77dcb6071a1-line.html-98"></a>98</td>
          <td></td>
          <td></td>
          <td>
            <span class="code">                else
</span>
          </td>
        </tr>

        <tr>
          <td><a name="LSoftGlobalScope-jl-14d5dc20d77dcb6071a1-line.html-99"></a>99</td>
          <td></td>
          <td></td>
          <td>
            <span class="code">                    error(&quot;Unknown syntax - please file an issue in the SoftGlobalScope.jl repository&quot;)
</span>
          </td>
        </tr>

        <tr>
          <td><a name="LSoftGlobalScope-jl-14d5dc20d77dcb6071a1-line.html-100"></a>100</td>
          <td></td>
          <td></td>
          <td>
            <span class="code">                end
</span>
          </td>
        </tr>

        <tr>
          <td><a name="LSoftGlobalScope-jl-14d5dc20d77dcb6071a1-line.html-101"></a>101</td>
          <td></td>
          <td></td>
          <td>
            <span class="code">            end
</span>
          </td>
        </tr>

        <tr>
          <td><a name="LSoftGlobalScope-jl-14d5dc20d77dcb6071a1-line.html-102"></a>102</td>
          <td></td>
          <td></td>
          <td>
            <span class="code">            return Expr(ex.head, args...)
</span>
          </td>
        </tr>

        <tr>
          <td><a name="LSoftGlobalScope-jl-14d5dc20d77dcb6071a1-line.html-103"></a>103</td>
          <td></td>
          <td></td>
          <td>
            <span class="code">        elseif isexpr(ex, :(=))
</span>
          </td>
        </tr>

        <tr>
          <td><a name="LSoftGlobalScope-jl-14d5dc20d77dcb6071a1-line.html-104"></a>104</td>
          <td></td>
          <td></td>
          <td>
            <span class="code">            return Expr(ex.head, ex.args[1], _softscope(ex.args[2], globals, locals, insertglobal))
</span>
          </td>
        </tr>

        <tr>
          <td><a name="LSoftGlobalScope-jl-14d5dc20d77dcb6071a1-line.html-105"></a>105</td>
          <td></td>
          <td></td>
          <td>
            <span class="code">        elseif ex isa Symbol
</span>
          </td>
        </tr>

        <tr>
          <td><a name="LSoftGlobalScope-jl-14d5dc20d77dcb6071a1-line.html-106"></a>106</td>
          <td></td>
          <td></td>
          <td>
            <span class="code">            return ex
</span>
          </td>
        </tr>

        <tr>
          <td><a name="LSoftGlobalScope-jl-14d5dc20d77dcb6071a1-line.html-107"></a>107</td>
          <td></td>
          <td></td>
          <td>
            <span class="code">        else
</span>
          </td>
        </tr>

        <tr>
          <td><a name="LSoftGlobalScope-jl-14d5dc20d77dcb6071a1-line.html-108"></a>108</td>
          <td></td>
          <td></td>
          <td>
            <span class="code">            error(&quot;Unknown syntax - please file an issue in the SoftGlobalScope.jl repository&quot;)
</span>
          </td>
        </tr>

        <tr>
          <td><a name="LSoftGlobalScope-jl-14d5dc20d77dcb6071a1-line.html-109"></a>109</td>
          <td></td>
          <td></td>
          <td>
            <span class="code">        end
</span>
          </td>
        </tr>

        <tr>
          <td><a name="LSoftGlobalScope-jl-14d5dc20d77dcb6071a1-line.html-110"></a>110</td>
          <td></td>
          <td></td>
          <td>
            <span class="code">    end
</span>
          </td>
        </tr>

        <tr>
          <td><a name="LSoftGlobalScope-jl-14d5dc20d77dcb6071a1-line.html-111"></a>111</td>
          <td></td>
          <td></td>
          <td>
            <span class="code">
</span>
          </td>
        </tr>

        <tr>
          <td><a name="LSoftGlobalScope-jl-14d5dc20d77dcb6071a1-line.html-112"></a>112</td>
          <td></td>
          <td></td>
          <td>
            <span class="code">    &quot;&quot;&quot;
</span>
          </td>
        </tr>

        <tr>
          <td><a name="LSoftGlobalScope-jl-14d5dc20d77dcb6071a1-line.html-113"></a>113</td>
          <td></td>
          <td></td>
          <td>
            <span class="code">        _softscope(ex, globals, locals, insertglobal::Bool=false)
</span>
          </td>
        </tr>

        <tr>
          <td><a name="LSoftGlobalScope-jl-14d5dc20d77dcb6071a1-line.html-114"></a>114</td>
          <td></td>
          <td></td>
          <td>
            <span class="code">
</span>
          </td>
        </tr>

        <tr>
          <td><a name="LSoftGlobalScope-jl-14d5dc20d77dcb6071a1-line.html-115"></a>115</td>
          <td></td>
          <td></td>
          <td>
            <span class="code">    Transform expression `ex` to &quot;soft&quot; scoping rules, where `globals` is a collection
</span>
          </td>
        </tr>

        <tr>
          <td><a name="LSoftGlobalScope-jl-14d5dc20d77dcb6071a1-line.html-116"></a>116</td>
          <td></td>
          <td></td>
          <td>
            <span class="code">    (e.g. `Set`) of global-variable symbols to implicitly qualify with `global`, and
</span>
          </td>
        </tr>

        <tr>
          <td><a name="LSoftGlobalScope-jl-14d5dc20d77dcb6071a1-line.html-117"></a>117</td>
          <td></td>
          <td></td>
          <td>
            <span class="code">    `insertglobal` is whether to insert the `global` keyword at the top level of
</span>
          </td>
        </tr>

        <tr>
          <td><a name="LSoftGlobalScope-jl-14d5dc20d77dcb6071a1-line.html-118"></a>118</td>
          <td></td>
          <td></td>
          <td>
            <span class="code">    `ex`.  (Usually, you pass `insertglobal=false` to start with and then it is
</span>
          </td>
        </tr>

        <tr>
          <td><a name="LSoftGlobalScope-jl-14d5dc20d77dcb6071a1-line.html-119"></a>119</td>
          <td></td>
          <td></td>
          <td>
            <span class="code">    recursively set to `true` for local scopes introduced by `for` etcetera.)
</span>
          </td>
        </tr>

        <tr>
          <td><a name="LSoftGlobalScope-jl-14d5dc20d77dcb6071a1-line.html-120"></a>120</td>
          <td></td>
          <td></td>
          <td>
            <span class="code">    NOTE: `_softscope`` may mutate the `globals` argument (if there are `local` declarations.)
</span>
          </td>
        </tr>

        <tr>
          <td><a name="LSoftGlobalScope-jl-14d5dc20d77dcb6071a1-line.html-121"></a>121</td>
          <td></td>
          <td></td>
          <td>
            <span class="code">    &quot;&quot;&quot;
</span>
          </td>
        </tr>

        <tr>
          <td><a name="LSoftGlobalScope-jl-14d5dc20d77dcb6071a1-line.html-122"></a>122</td>
          <td></td>
          <td></td>
          <td>
            <span class="code">    function _softscope(ex::Expr, globals, locals, insertglobal::Bool=false, noassignment::Bool=false)
</span>
          </td>
        </tr>

        <tr>
          <td><a name="LSoftGlobalScope-jl-14d5dc20d77dcb6071a1-line.html-123"></a>123</td>
          <td></td>
          <td></td>
          <td>
            <span class="code">        if isexpr(ex, :for)
</span>
          </td>
        </tr>

        <tr>
          <td><a name="LSoftGlobalScope-jl-14d5dc20d77dcb6071a1-line.html-124"></a>124</td>
          <td></td>
          <td></td>
          <td>
            <span class="code">            return Expr(ex.head, localassignment(ex.args[1], copy(globals), copy(locals), insertglobal),
</span>
          </td>
        </tr>

        <tr>
          <td><a name="LSoftGlobalScope-jl-14d5dc20d77dcb6071a1-line.html-125"></a>125</td>
          <td></td>
          <td></td>
          <td>
            <span class="code">                _softscope(ex.args[2], copy(globals), copy(locals), true))
</span>
          </td>
        </tr>

        <tr>
          <td><a name="LSoftGlobalScope-jl-14d5dc20d77dcb6071a1-line.html-126"></a>126</td>
          <td></td>
          <td></td>
          <td>
            <span class="code">        elseif isexpr(ex, :while)
</span>
          </td>
        </tr>

        <tr>
          <td><a name="LSoftGlobalScope-jl-14d5dc20d77dcb6071a1-line.html-127"></a>127</td>
          <td></td>
          <td></td>
          <td>
            <span class="code">            return Expr(ex.head, _softscope(ex.args[1], copy(globals), copy(locals), insertglobal),
</span>
          </td>
        </tr>

        <tr>
          <td><a name="LSoftGlobalScope-jl-14d5dc20d77dcb6071a1-line.html-128"></a>128</td>
          <td></td>
          <td></td>
          <td>
            <span class="code">                _softscope(ex.args[2], copy(globals), copy(locals), true))
</span>
          </td>
        </tr>

        <tr>
          <td><a name="LSoftGlobalScope-jl-14d5dc20d77dcb6071a1-line.html-129"></a>129</td>
          <td></td>
          <td></td>
          <td>
            <span class="code">        elseif isexpr(ex, :try)
</span>
          </td>
        </tr>

        <tr>
          <td><a name="LSoftGlobalScope-jl-14d5dc20d77dcb6071a1-line.html-130"></a>130</td>
          <td></td>
          <td></td>
          <td>
            <span class="code">            try_clause = _softscope(ex.args[1], copy(globals), copy(locals), true)
</span>
          </td>
        </tr>

        <tr>
          <td><a name="LSoftGlobalScope-jl-14d5dc20d77dcb6071a1-line.html-131"></a>131</td>
          <td></td>
          <td></td>
          <td>
            <span class="code">            catch_clause = _softscope(ex.args[3], copy(globals), ex.args[2] isa Symbol ? union!(locals, ex.args[2:2]) : copy(locals), true)
</span>
          </td>
        </tr>

        <tr>
          <td><a name="LSoftGlobalScope-jl-14d5dc20d77dcb6071a1-line.html-132"></a>132</td>
          <td></td>
          <td></td>
          <td>
            <span class="code">            if length(ex.args) == 3
</span>
          </td>
        </tr>

        <tr>
          <td><a name="LSoftGlobalScope-jl-14d5dc20d77dcb6071a1-line.html-133"></a>133</td>
          <td></td>
          <td></td>
          <td>
            <span class="code">                return Expr(:try, try_clause, ex.args[2], catch_clause)
</span>
          </td>
        </tr>

        <tr>
          <td><a name="LSoftGlobalScope-jl-14d5dc20d77dcb6071a1-line.html-134"></a>134</td>
          <td></td>
          <td></td>
          <td>
            <span class="code">            else
</span>
          </td>
        </tr>

        <tr>
          <td><a name="LSoftGlobalScope-jl-14d5dc20d77dcb6071a1-line.html-135"></a>135</td>
          <td></td>
          <td></td>
          <td>
            <span class="code">                finally_clause = _softscope(ex.args[4], copy(globals), copy(locals), true)
</span>
          </td>
        </tr>

        <tr>
          <td><a name="LSoftGlobalScope-jl-14d5dc20d77dcb6071a1-line.html-136"></a>136</td>
          <td></td>
          <td></td>
          <td>
            <span class="code">                return Expr(:try, try_clause, ex.args[2], catch_clause, finally_clause)
</span>
          </td>
        </tr>

        <tr>
          <td><a name="LSoftGlobalScope-jl-14d5dc20d77dcb6071a1-line.html-137"></a>137</td>
          <td></td>
          <td></td>
          <td>
            <span class="code">            end
</span>
          </td>
        </tr>

        <tr>
          <td><a name="LSoftGlobalScope-jl-14d5dc20d77dcb6071a1-line.html-138"></a>138</td>
          <td></td>
          <td></td>
          <td>
            <span class="code">        elseif isexpr(ex, :let)
</span>
          </td>
        </tr>

        <tr>
          <td><a name="LSoftGlobalScope-jl-14d5dc20d77dcb6071a1-line.html-139"></a>139</td>
          <td></td>
          <td></td>
          <td>
            <span class="code">            letlocals = union(locals, localvars(ex.args[1]))
</span>
          </td>
        </tr>

        <tr>
          <td><a name="LSoftGlobalScope-jl-14d5dc20d77dcb6071a1-line.html-140"></a>140</td>
          <td></td>
          <td></td>
          <td>
            <span class="code">            return Expr(ex.head, localassignment(ex.args[1], copy(globals), copy(locals), true),
</span>
          </td>
        </tr>

        <tr>
          <td><a name="LSoftGlobalScope-jl-14d5dc20d77dcb6071a1-line.html-141"></a>141</td>
          <td></td>
          <td></td>
          <td>
            <span class="code">                _softscope(ex.args[2], copy(globals), letlocals, true))
</span>
          </td>
        </tr>

        <tr>
          <td><a name="LSoftGlobalScope-jl-14d5dc20d77dcb6071a1-line.html-142"></a>142</td>
          <td></td>
          <td></td>
          <td>
            <span class="code">        elseif isexpr(ex, :block) || isexpr(ex, :if) || isexpr(ex, :elseif) || isexpr(ex, :toplevel)
</span>
          </td>
        </tr>

        <tr>
          <td><a name="LSoftGlobalScope-jl-14d5dc20d77dcb6071a1-line.html-143"></a>143</td>
          <td></td>
          <td></td>
          <td>
            <span class="code">            return Expr(ex.head, _softscope.(ex.args, Ref(globals), Ref(locals), insertglobal)...)
</span>
          </td>
        </tr>

        <tr>
          <td><a name="LSoftGlobalScope-jl-14d5dc20d77dcb6071a1-line.html-144"></a>144</td>
          <td></td>
          <td></td>
          <td>
            <span class="code">        elseif isexpr(ex, :global)
</span>
          </td>
        </tr>

        <tr>
          <td><a name="LSoftGlobalScope-jl-14d5dc20d77dcb6071a1-line.html-145"></a>145</td>
          <td></td>
          <td></td>
          <td>
            <span class="code">            union!(globals, localvars(ex.args))
</span>
          </td>
        </tr>

        <tr>
          <td><a name="LSoftGlobalScope-jl-14d5dc20d77dcb6071a1-line.html-146"></a>146</td>
          <td></td>
          <td></td>
          <td>
            <span class="code">            return ex
</span>
          </td>
        </tr>

        <tr>
          <td><a name="LSoftGlobalScope-jl-14d5dc20d77dcb6071a1-line.html-147"></a>147</td>
          <td></td>
          <td></td>
          <td>
            <span class="code">        elseif isexpr(ex, :local)
</span>
          </td>
        </tr>

        <tr>
          <td><a name="LSoftGlobalScope-jl-14d5dc20d77dcb6071a1-line.html-148"></a>148</td>
          <td></td>
          <td></td>
          <td>
            <span class="code">            union!(locals, localvars(ex.args)) # affects globals in surrounding scope!
</span>
          </td>
        </tr>

        <tr>
          <td><a name="LSoftGlobalScope-jl-14d5dc20d77dcb6071a1-line.html-149"></a>149</td>
          <td></td>
          <td></td>
          <td>
            <span class="code">            return ex
</span>
          </td>
        </tr>

        <tr>
          <td><a name="LSoftGlobalScope-jl-14d5dc20d77dcb6071a1-line.html-150"></a>150</td>
          <td></td>
          <td></td>
          <td>
            <span class="code">        elseif ex.head in calls
</span>
          </td>
        </tr>

        <tr>
          <td><a name="LSoftGlobalScope-jl-14d5dc20d77dcb6071a1-line.html-151"></a>151</td>
          <td></td>
          <td></td>
          <td>
            <span class="code">            return Expr(ex.head, _softscope.(ex.args, Ref(globals), Ref(locals), insertglobal, ex.head === :tuple)...)
</span>
          </td>
        </tr>

        <tr>
          <td><a name="LSoftGlobalScope-jl-14d5dc20d77dcb6071a1-line.html-152"></a>152</td>
          <td></td>
          <td></td>
          <td>
            <span class="code">        elseif isexpr(ex, :kw) || (noassignment &amp;&amp; ex.head in assignments)
</span>
          </td>
        </tr>

        <tr>
          <td><a name="LSoftGlobalScope-jl-14d5dc20d77dcb6071a1-line.html-153"></a>153</td>
          <td></td>
          <td></td>
          <td>
            <span class="code">            return Expr(ex.head, ex.args[1], _softscope(ex.args[2], globals, locals, insertglobal))
</span>
          </td>
        </tr>

        <tr>
          <td><a name="LSoftGlobalScope-jl-14d5dc20d77dcb6071a1-line.html-154"></a>154</td>
          <td></td>
          <td></td>
          <td>
            <span class="code">        elseif insertglobal &amp;&amp; ex.head in assignments
</span>
          </td>
        </tr>

        <tr>
          <td><a name="LSoftGlobalScope-jl-14d5dc20d77dcb6071a1-line.html-155"></a>155</td>
          <td></td>
          <td></td>
          <td>
            <span class="code">            if isexpr(ex.args[1], :call)
</span>
          </td>
        </tr>

        <tr>
          <td><a name="LSoftGlobalScope-jl-14d5dc20d77dcb6071a1-line.html-156"></a>156</td>
          <td></td>
          <td></td>
          <td>
            <span class="code">                return ex
</span>
          </td>
        </tr>

        <tr>
          <td><a name="LSoftGlobalScope-jl-14d5dc20d77dcb6071a1-line.html-157"></a>157</td>
          <td></td>
          <td></td>
          <td>
            <span class="code">            elseif ex.args[1] in globals &amp;&amp; !(ex.args[1] in locals) # Simple assignment to global
</span>
          </td>
        </tr>

        <tr>
          <td><a name="LSoftGlobalScope-jl-14d5dc20d77dcb6071a1-line.html-158"></a>158</td>
          <td></td>
          <td></td>
          <td>
            <span class="code">                return Expr(:global, Expr(ex.head, ex.args[1], _softscope(ex.args[2], globals, locals, insertglobal)))
</span>
          </td>
        </tr>

        <tr>
          <td><a name="LSoftGlobalScope-jl-14d5dc20d77dcb6071a1-line.html-159"></a>159</td>
          <td></td>
          <td></td>
          <td>
            <span class="code">            end
</span>
          </td>
        </tr>

        <tr>
          <td><a name="LSoftGlobalScope-jl-14d5dc20d77dcb6071a1-line.html-160"></a>160</td>
          <td></td>
          <td></td>
          <td>
            <span class="code">            softex = Expr(ex.head, _softscope.(ex.args, Ref(globals), Ref(locals), insertglobal)...)
</span>
          </td>
        </tr>

        <tr>
          <td><a name="LSoftGlobalScope-jl-14d5dc20d77dcb6071a1-line.html-161"></a>161</td>
          <td></td>
          <td></td>
          <td>
            <span class="code">            if isexpr(ex.args[1], :tuple) # Assignment to a tuple
</span>
          </td>
        </tr>

        <tr>
          <td><a name="LSoftGlobalScope-jl-14d5dc20d77dcb6071a1-line.html-162"></a>162</td>
          <td></td>
          <td></td>
          <td>
            <span class="code">                vars = [var for var in localvars(ex.args[1].args) if (var in globals) &amp;&amp; !(var in locals)]
</span>
          </td>
        </tr>

        <tr>
          <td><a name="LSoftGlobalScope-jl-14d5dc20d77dcb6071a1-line.html-163"></a>163</td>
          <td></td>
          <td></td>
          <td>
            <span class="code">                return isempty(vars) ? softex : Expr(:block, Expr(:global, vars...), softex)
</span>
          </td>
        </tr>

        <tr>
          <td><a name="LSoftGlobalScope-jl-14d5dc20d77dcb6071a1-line.html-164"></a>164</td>
          <td></td>
          <td></td>
          <td>
            <span class="code">            else
</span>
          </td>
        </tr>

        <tr>
          <td><a name="LSoftGlobalScope-jl-14d5dc20d77dcb6071a1-line.html-165"></a>165</td>
          <td></td>
          <td></td>
          <td>
            <span class="code">                return softex
</span>
          </td>
        </tr>

        <tr>
          <td><a name="LSoftGlobalScope-jl-14d5dc20d77dcb6071a1-line.html-166"></a>166</td>
          <td></td>
          <td></td>
          <td>
            <span class="code">            end
</span>
          </td>
        </tr>

        <tr>
          <td><a name="LSoftGlobalScope-jl-14d5dc20d77dcb6071a1-line.html-167"></a>167</td>
          <td></td>
          <td></td>
          <td>
            <span class="code">        elseif !insertglobal &amp;&amp; isexpr(ex, :(=)) # only assignments in the global scope need to be considered
</span>
          </td>
        </tr>

        <tr>
          <td><a name="LSoftGlobalScope-jl-14d5dc20d77dcb6071a1-line.html-168"></a>168</td>
          <td></td>
          <td></td>
          <td>
            <span class="code">            union!(globals, localvars(ex))
</span>
          </td>
        </tr>

        <tr>
          <td><a name="LSoftGlobalScope-jl-14d5dc20d77dcb6071a1-line.html-169"></a>169</td>
          <td></td>
          <td></td>
          <td>
            <span class="code">            return ex
</span>
          </td>
        </tr>

        <tr>
          <td><a name="LSoftGlobalScope-jl-14d5dc20d77dcb6071a1-line.html-170"></a>170</td>
          <td></td>
          <td></td>
          <td>
            <span class="code">        else
</span>
          </td>
        </tr>

        <tr>
          <td><a name="LSoftGlobalScope-jl-14d5dc20d77dcb6071a1-line.html-171"></a>171</td>
          <td></td>
          <td></td>
          <td>
            <span class="code">            return ex
</span>
          </td>
        </tr>

        <tr>
          <td><a name="LSoftGlobalScope-jl-14d5dc20d77dcb6071a1-line.html-172"></a>172</td>
          <td></td>
          <td></td>
          <td>
            <span class="code">        end
</span>
          </td>
        </tr>

        <tr>
          <td><a name="LSoftGlobalScope-jl-14d5dc20d77dcb6071a1-line.html-173"></a>173</td>
          <td></td>
          <td></td>
          <td>
            <span class="code">    end
</span>
          </td>
        </tr>

        <tr>
          <td><a name="LSoftGlobalScope-jl-14d5dc20d77dcb6071a1-line.html-174"></a>174</td>
          <td></td>
          <td></td>
          <td>
            <span class="code">    _softscope(ex, globals, locals, insertglobal::Bool=false, noassignment::Bool=false) = ex
</span>
          </td>
        </tr>

        <tr>
          <td><a name="LSoftGlobalScope-jl-14d5dc20d77dcb6071a1-line.html-175"></a>175</td>
          <td></td>
          <td></td>
          <td>
            <span class="code">
</span>
          </td>
        </tr>

        <tr>
          <td><a name="LSoftGlobalScope-jl-14d5dc20d77dcb6071a1-line.html-176"></a>176</td>
          <td></td>
          <td></td>
          <td>
            <span class="code">    softscope(m::Module, ast) = _softscope(ast, Set(@static VERSION &lt; v&quot;0.7.0-DEV.3526&quot; ? names(m, true) : names(m, all=true)), Set{Symbol}())
</span>
          </td>
        </tr>

        <tr>
          <td><a name="LSoftGlobalScope-jl-14d5dc20d77dcb6071a1-line.html-177"></a>177</td>
          <td></td>
          <td></td>
          <td>
            <span class="code">
</span>
          </td>
        </tr>

        <tr>
          <td><a name="LSoftGlobalScope-jl-14d5dc20d77dcb6071a1-line.html-178"></a>178</td>
          <td></td>
          <td></td>
          <td>
            <span class="code">    # we want to add line numbers to most expressions, but we can
</span>
          </td>
        </tr>

        <tr>
          <td><a name="LSoftGlobalScope-jl-14d5dc20d77dcb6071a1-line.html-179"></a>179</td>
          <td></td>
          <td></td>
          <td>
            <span class="code">    # only do this by wrapping them in :block (:toplevel doesn&#39;t work),
</span>
          </td>
        </tr>

        <tr>
          <td><a name="LSoftGlobalScope-jl-14d5dc20d77dcb6071a1-line.html-180"></a>180</td>
          <td></td>
          <td></td>
          <td>
            <span class="code">    # and some expressions are toplevel-only.  We also need to shift
</span>
          </td>
        </tr>

        <tr>
          <td><a name="LSoftGlobalScope-jl-14d5dc20d77dcb6071a1-line.html-181"></a>181</td>
          <td></td>
          <td></td>
          <td>
            <span class="code">    # any existing line numbers by line-1.
</span>
          </td>
        </tr>

        <tr>
          <td><a name="LSoftGlobalScope-jl-14d5dc20d77dcb6071a1-line.html-182"></a>182</td>
          <td></td>
          <td></td>
          <td>
            <span class="code">    const toplevel_only = (:module, :primitive, :abstract, :struct)
</span>
          </td>
        </tr>

        <tr>
          <td><a name="LSoftGlobalScope-jl-14d5dc20d77dcb6071a1-line.html-183"></a>183</td>
          <td></td>
          <td></td>
          <td>
            <span class="code">    _add_linenum(ex, line, filesym) = Expr(:block, LineNumberNode(line, filesym), ex)
</span>
          </td>
        </tr>

        <tr>
          <td><a name="LSoftGlobalScope-jl-14d5dc20d77dcb6071a1-line.html-184"></a>184</td>
          <td></td>
          <td></td>
          <td>
            <span class="code">    add_linenum(ex, line, filesym) = _add_linenum(ex, line, filesym)
</span>
          </td>
        </tr>

        <tr>
          <td><a name="LSoftGlobalScope-jl-14d5dc20d77dcb6071a1-line.html-185"></a>185</td>
          <td></td>
          <td></td>
          <td>
            <span class="code">    shift_linenum(ex::LineNumberNode, line, filesym) = ex.file === :none ? LineNumberNode(ex.line+line-1, filesym) : ex
</span>
          </td>
        </tr>

        <tr>
          <td><a name="LSoftGlobalScope-jl-14d5dc20d77dcb6071a1-line.html-186"></a>186</td>
          <td></td>
          <td></td>
          <td>
            <span class="code">    shift_linenum(ex::Expr, line, filesym) = Expr(ex.head, shift_linenum.(ex.args, line, filesym)...)
</span>
          </td>
        </tr>

        <tr>
          <td><a name="LSoftGlobalScope-jl-14d5dc20d77dcb6071a1-line.html-187"></a>187</td>
          <td></td>
          <td></td>
          <td>
            <span class="code">    shift_linenum(ex, line, filesym) = ex
</span>
          </td>
        </tr>

        <tr>
          <td><a name="LSoftGlobalScope-jl-14d5dc20d77dcb6071a1-line.html-188"></a>188</td>
          <td></td>
          <td></td>
          <td>
            <span class="code">    add_linenum(ex::LineNumberNode, line, filesym) = shift_linenum(ex, line, filesym)
</span>
          </td>
        </tr>

        <tr>
          <td><a name="LSoftGlobalScope-jl-14d5dc20d77dcb6071a1-line.html-189"></a>189</td>
          <td></td>
          <td></td>
          <td>
            <span class="code">    function add_linenum(ex::Expr, line, filesym)
</span>
          </td>
        </tr>

        <tr>
          <td><a name="LSoftGlobalScope-jl-14d5dc20d77dcb6071a1-line.html-190"></a>190</td>
          <td></td>
          <td></td>
          <td>
            <span class="code">        if ex.head == :toplevel
</span>
          </td>
        </tr>

        <tr>
          <td><a name="LSoftGlobalScope-jl-14d5dc20d77dcb6071a1-line.html-191"></a>191</td>
          <td></td>
          <td></td>
          <td>
            <span class="code">            return Expr(:toplevel, add_linenum.(ex.args, line, filesym)...)
</span>
          </td>
        </tr>

        <tr>
          <td><a name="LSoftGlobalScope-jl-14d5dc20d77dcb6071a1-line.html-192"></a>192</td>
          <td></td>
          <td></td>
          <td>
            <span class="code">        end
</span>
          </td>
        </tr>

        <tr>
          <td><a name="LSoftGlobalScope-jl-14d5dc20d77dcb6071a1-line.html-193"></a>193</td>
          <td></td>
          <td></td>
          <td>
            <span class="code">        exshift = shift_linenum(ex, line, filesym)
</span>
          </td>
        </tr>

        <tr>
          <td><a name="LSoftGlobalScope-jl-14d5dc20d77dcb6071a1-line.html-194"></a>194</td>
          <td></td>
          <td></td>
          <td>
            <span class="code">        if exshift.head in toplevel_only
</span>
          </td>
        </tr>

        <tr>
          <td><a name="LSoftGlobalScope-jl-14d5dc20d77dcb6071a1-line.html-195"></a>195</td>
          <td></td>
          <td></td>
          <td>
            <span class="code">            return exshift
</span>
          </td>
        </tr>

        <tr>
          <td><a name="LSoftGlobalScope-jl-14d5dc20d77dcb6071a1-line.html-196"></a>196</td>
          <td></td>
          <td></td>
          <td>
            <span class="code">        else
</span>
          </td>
        </tr>

        <tr>
          <td><a name="LSoftGlobalScope-jl-14d5dc20d77dcb6071a1-line.html-197"></a>197</td>
          <td></td>
          <td></td>
          <td>
            <span class="code">            return _add_linenum(exshift, line, filesym)
</span>
          </td>
        </tr>

        <tr>
          <td><a name="LSoftGlobalScope-jl-14d5dc20d77dcb6071a1-line.html-198"></a>198</td>
          <td></td>
          <td></td>
          <td>
            <span class="code">        end
</span>
          </td>
        </tr>

        <tr>
          <td><a name="LSoftGlobalScope-jl-14d5dc20d77dcb6071a1-line.html-199"></a>199</td>
          <td></td>
          <td></td>
          <td>
            <span class="code">    end
</span>
          </td>
        </tr>

        <tr>
          <td><a name="LSoftGlobalScope-jl-14d5dc20d77dcb6071a1-line.html-200"></a>200</td>
          <td></td>
          <td></td>
          <td>
            <span class="code">
</span>
          </td>
        </tr>

        <tr>
          <td><a name="LSoftGlobalScope-jl-14d5dc20d77dcb6071a1-line.html-201"></a>201</td>
          <td></td>
          <td></td>
          <td>
            <span class="code">    function softscope_include_string(m::Module, code::AbstractString, filename::AbstractString=&quot;string&quot;)
</span>
          </td>
        </tr>

        <tr>
          <td><a name="LSoftGlobalScope-jl-14d5dc20d77dcb6071a1-line.html-202"></a>202</td>
          <td></td>
          <td></td>
          <td>
            <span class="code">        # read through the code line by line, keeping count to preserve line-number information
</span>
          </td>
        </tr>

        <tr>
          <td><a name="LSoftGlobalScope-jl-14d5dc20d77dcb6071a1-line.html-203"></a>203</td>
          <td></td>
          <td></td>
          <td>
            <span class="code">        pos = 1 # current position in the code
</span>
          </td>
        </tr>

        <tr>
          <td><a name="LSoftGlobalScope-jl-14d5dc20d77dcb6071a1-line.html-204"></a>204</td>
          <td></td>
          <td></td>
          <td>
            <span class="code">        lastpos = lastindex(code)
</span>
          </td>
        </tr>

        <tr>
          <td><a name="LSoftGlobalScope-jl-14d5dc20d77dcb6071a1-line.html-205"></a>205</td>
          <td></td>
          <td></td>
          <td>
            <span class="code">        line = 1
</span>
          </td>
        </tr>

        <tr>
          <td><a name="LSoftGlobalScope-jl-14d5dc20d77dcb6071a1-line.html-206"></a>206</td>
          <td></td>
          <td></td>
          <td>
            <span class="code">        retval = nothing
</span>
          </td>
        </tr>

        <tr>
          <td><a name="LSoftGlobalScope-jl-14d5dc20d77dcb6071a1-line.html-207"></a>207</td>
          <td></td>
          <td></td>
          <td>
            <span class="code">        filesym = Symbol(filename) # LineNumberNode needs a Symbol
</span>
          </td>
        </tr>

        <tr>
          <td><a name="LSoftGlobalScope-jl-14d5dc20d77dcb6071a1-line.html-208"></a>208</td>
          <td></td>
          <td></td>
          <td>
            <span class="code">        while pos ≤ lastpos
</span>
          </td>
        </tr>

        <tr>
          <td><a name="LSoftGlobalScope-jl-14d5dc20d77dcb6071a1-line.html-209"></a>209</td>
          <td></td>
          <td></td>
          <td>
            <span class="code">            startpos = pos
</span>
          </td>
        </tr>

        <tr>
          <td><a name="LSoftGlobalScope-jl-14d5dc20d77dcb6071a1-line.html-210"></a>210</td>
          <td></td>
          <td></td>
          <td>
            <span class="code">            e, pos = Meta.parse(code, startpos, greedy=true, raise=false)
</span>
          </td>
        </tr>

        <tr>
          <td><a name="LSoftGlobalScope-jl-14d5dc20d77dcb6071a1-line.html-211"></a>211</td>
          <td></td>
          <td></td>
          <td>
            <span class="code">            if isexpr(e, :incomplete) || isexpr(e, :error)
</span>
          </td>
        </tr>

        <tr>
          <td><a name="LSoftGlobalScope-jl-14d5dc20d77dcb6071a1-line.html-212"></a>212</td>
          <td></td>
          <td></td>
          <td>
            <span class="code">                throw(LoadError(filename, line,
</span>
          </td>
        </tr>

        <tr>
          <td><a name="LSoftGlobalScope-jl-14d5dc20d77dcb6071a1-line.html-213"></a>213</td>
          <td></td>
          <td></td>
          <td>
            <span class="code">                                ErrorException(&quot;syntax: &quot; * e.args[1])))
</span>
          </td>
        </tr>

        <tr>
          <td><a name="LSoftGlobalScope-jl-14d5dc20d77dcb6071a1-line.html-214"></a>214</td>
          <td></td>
          <td></td>
          <td>
            <span class="code">            end
</span>
          </td>
        </tr>

        <tr>
          <td><a name="LSoftGlobalScope-jl-14d5dc20d77dcb6071a1-line.html-215"></a>215</td>
          <td></td>
          <td></td>
          <td>
            <span class="code">            if e !== nothing # ignore blank and comment lines (#12)
</span>
          </td>
        </tr>

        <tr>
          <td><a name="LSoftGlobalScope-jl-14d5dc20d77dcb6071a1-line.html-216"></a>216</td>
          <td></td>
          <td></td>
          <td>
            <span class="code">                e = softscope(m, add_linenum(e, line, filesym))
</span>
          </td>
        </tr>

        <tr>
          <td><a name="LSoftGlobalScope-jl-14d5dc20d77dcb6071a1-line.html-217"></a>217</td>
          <td></td>
          <td></td>
          <td>
            <span class="code">                retval = Core.eval(m, e)
</span>
          </td>
        </tr>

        <tr>
          <td><a name="LSoftGlobalScope-jl-14d5dc20d77dcb6071a1-line.html-218"></a>218</td>
          <td></td>
          <td></td>
          <td>
            <span class="code">            end
</span>
          </td>
        </tr>

        <tr>
          <td><a name="LSoftGlobalScope-jl-14d5dc20d77dcb6071a1-line.html-219"></a>219</td>
          <td></td>
          <td></td>
          <td>
            <span class="code">            line += count(==(&#39;\n&#39;), SubString(code, startpos, prevind(code, pos)))
</span>
          </td>
        </tr>

        <tr>
          <td><a name="LSoftGlobalScope-jl-14d5dc20d77dcb6071a1-line.html-220"></a>220</td>
          <td></td>
          <td></td>
          <td>
            <span class="code">        end
</span>
          </td>
        </tr>

        <tr>
          <td><a name="LSoftGlobalScope-jl-14d5dc20d77dcb6071a1-line.html-221"></a>221</td>
          <td></td>
          <td></td>
          <td>
            <span class="code">        return retval
</span>
          </td>
        </tr>

        <tr>
          <td><a name="LSoftGlobalScope-jl-14d5dc20d77dcb6071a1-line.html-222"></a>222</td>
          <td></td>
          <td></td>
          <td>
            <span class="code">    end
</span>
          </td>
        </tr>

        <tr>
          <td><a name="LSoftGlobalScope-jl-14d5dc20d77dcb6071a1-line.html-223"></a>223</td>
          <td></td>
          <td></td>
          <td>
            <span class="code">end
</span>
          </td>
        </tr>

        <tr>
          <td><a name="LSoftGlobalScope-jl-14d5dc20d77dcb6071a1-line.html-224"></a>224</td>
          <td></td>
          <td></td>
          <td>
            <span class="code">
</span>
          </td>
        </tr>

        <tr>
          <td><a name="LSoftGlobalScope-jl-14d5dc20d77dcb6071a1-line.html-225"></a>225</td>
          <td></td>
          <td></td>
          <td>
            <span class="code">&quot;&quot;&quot;
</span>
          </td>
        </tr>

        <tr>
          <td><a name="LSoftGlobalScope-jl-14d5dc20d77dcb6071a1-line.html-226"></a>226</td>
          <td></td>
          <td></td>
          <td>
            <span class="code">    softscope(m::Module, ast)
</span>
          </td>
        </tr>

        <tr>
          <td><a name="LSoftGlobalScope-jl-14d5dc20d77dcb6071a1-line.html-227"></a>227</td>
          <td></td>
          <td></td>
          <td>
            <span class="code">
</span>
          </td>
        </tr>

        <tr>
          <td><a name="LSoftGlobalScope-jl-14d5dc20d77dcb6071a1-line.html-228"></a>228</td>
          <td></td>
          <td></td>
          <td>
            <span class="code">Transform the abstract syntax tree `ast` (a quoted Julia expression) to use &quot;soft&quot;
</span>
          </td>
        </tr>

        <tr>
          <td><a name="LSoftGlobalScope-jl-14d5dc20d77dcb6071a1-line.html-229"></a>229</td>
          <td></td>
          <td></td>
          <td>
            <span class="code">scoping rules for the global variables defined in `m`, returning the new expression.
</span>
          </td>
        </tr>

        <tr>
          <td><a name="LSoftGlobalScope-jl-14d5dc20d77dcb6071a1-line.html-230"></a>230</td>
          <td></td>
          <td></td>
          <td>
            <span class="code">&quot;&quot;&quot;
</span>
          </td>
        </tr>

        <tr>
          <td><a name="LSoftGlobalScope-jl-14d5dc20d77dcb6071a1-line.html-231"></a>231</td>
          <td></td>
          <td></td>
          <td>
            <span class="code">softscope
</span>
          </td>
        </tr>

        <tr>
          <td><a name="LSoftGlobalScope-jl-14d5dc20d77dcb6071a1-line.html-232"></a>232</td>
          <td></td>
          <td></td>
          <td>
            <span class="code">
</span>
          </td>
        </tr>

        <tr>
          <td><a name="LSoftGlobalScope-jl-14d5dc20d77dcb6071a1-line.html-233"></a>233</td>
          <td></td>
          <td></td>
          <td>
            <span class="code">macro softscope(ast)
</span>
          </td>
        </tr>

        <tr>
          <td><a name="LSoftGlobalScope-jl-14d5dc20d77dcb6071a1-line.html-234"></a>234</td>
          <td></td>
          <td></td>
          <td>
            <span class="code">    esc(softscope(__module__, ast))
</span>
          </td>
        </tr>

        <tr>
          <td><a name="LSoftGlobalScope-jl-14d5dc20d77dcb6071a1-line.html-235"></a>235</td>
          <td></td>
          <td></td>
          <td>
            <span class="code">end
</span>
          </td>
        </tr>

        <tr>
          <td><a name="LSoftGlobalScope-jl-14d5dc20d77dcb6071a1-line.html-236"></a>236</td>
          <td></td>
          <td></td>
          <td>
            <span class="code">
</span>
          </td>
        </tr>

        <tr>
          <td><a name="LSoftGlobalScope-jl-14d5dc20d77dcb6071a1-line.html-237"></a>237</td>
          <td></td>
          <td></td>
          <td>
            <span class="code">&quot;&quot;&quot;
</span>
          </td>
        </tr>

        <tr>
          <td><a name="LSoftGlobalScope-jl-14d5dc20d77dcb6071a1-line.html-238"></a>238</td>
          <td></td>
          <td></td>
          <td>
            <span class="code">    @softscope(expr)
</span>
          </td>
        </tr>

        <tr>
          <td><a name="LSoftGlobalScope-jl-14d5dc20d77dcb6071a1-line.html-239"></a>239</td>
          <td></td>
          <td></td>
          <td>
            <span class="code">
</span>
          </td>
        </tr>

        <tr>
          <td><a name="LSoftGlobalScope-jl-14d5dc20d77dcb6071a1-line.html-240"></a>240</td>
          <td></td>
          <td></td>
          <td>
            <span class="code">Apply &quot;soft&quot; scoping rules to the argument of the macro. For example
</span>
          </td>
        </tr>

        <tr>
          <td><a name="LSoftGlobalScope-jl-14d5dc20d77dcb6071a1-line.html-241"></a>241</td>
          <td></td>
          <td></td>
          <td>
            <span class="code">```jl
</span>
          </td>
        </tr>

        <tr>
          <td><a name="LSoftGlobalScope-jl-14d5dc20d77dcb6071a1-line.html-242"></a>242</td>
          <td></td>
          <td></td>
          <td>
            <span class="code">julia&gt; s = 0;
</span>
          </td>
        </tr>

        <tr>
          <td><a name="LSoftGlobalScope-jl-14d5dc20d77dcb6071a1-line.html-243"></a>243</td>
          <td></td>
          <td></td>
          <td>
            <span class="code">
</span>
          </td>
        </tr>

        <tr>
          <td><a name="LSoftGlobalScope-jl-14d5dc20d77dcb6071a1-line.html-244"></a>244</td>
          <td></td>
          <td></td>
          <td>
            <span class="code">julia&gt; @softscope for i = 1:10
</span>
          </td>
        </tr>

        <tr>
          <td><a name="LSoftGlobalScope-jl-14d5dc20d77dcb6071a1-line.html-245"></a>245</td>
          <td></td>
          <td></td>
          <td>
            <span class="code">           s += i
</span>
          </td>
        </tr>

        <tr>
          <td><a name="LSoftGlobalScope-jl-14d5dc20d77dcb6071a1-line.html-246"></a>246</td>
          <td></td>
          <td></td>
          <td>
            <span class="code">       end
</span>
          </td>
        </tr>

        <tr>
          <td><a name="LSoftGlobalScope-jl-14d5dc20d77dcb6071a1-line.html-247"></a>247</td>
          <td></td>
          <td></td>
          <td>
            <span class="code">
</span>
          </td>
        </tr>

        <tr>
          <td><a name="LSoftGlobalScope-jl-14d5dc20d77dcb6071a1-line.html-248"></a>248</td>
          <td></td>
          <td></td>
          <td>
            <span class="code">julia&gt; s
</span>
          </td>
        </tr>

        <tr>
          <td><a name="LSoftGlobalScope-jl-14d5dc20d77dcb6071a1-line.html-249"></a>249</td>
          <td></td>
          <td></td>
          <td>
            <span class="code">55
</span>
          </td>
        </tr>

        <tr>
          <td><a name="LSoftGlobalScope-jl-14d5dc20d77dcb6071a1-line.html-250"></a>250</td>
          <td></td>
          <td></td>
          <td>
            <span class="code">```
</span>
          </td>
        </tr>

        <tr>
          <td><a name="LSoftGlobalScope-jl-14d5dc20d77dcb6071a1-line.html-251"></a>251</td>
          <td></td>
          <td></td>
          <td>
            <span class="code">&quot;&quot;&quot;
</span>
          </td>
        </tr>

        <tr>
          <td><a name="LSoftGlobalScope-jl-14d5dc20d77dcb6071a1-line.html-252"></a>252</td>
          <td></td>
          <td></td>
          <td>
            <span class="code">:(@softscope)
</span>
          </td>
        </tr>

        <tr>
          <td><a name="LSoftGlobalScope-jl-14d5dc20d77dcb6071a1-line.html-253"></a>253</td>
          <td></td>
          <td></td>
          <td>
            <span class="code">
</span>
          </td>
        </tr>

        <tr>
          <td><a name="LSoftGlobalScope-jl-14d5dc20d77dcb6071a1-line.html-254"></a>254</td>
          <td></td>
          <td></td>
          <td>
            <span class="code">&quot;&quot;&quot;
</span>
          </td>
        </tr>

        <tr>
          <td><a name="LSoftGlobalScope-jl-14d5dc20d77dcb6071a1-line.html-255"></a>255</td>
          <td></td>
          <td></td>
          <td>
            <span class="code">    softscope_include_string(m::Module, code::AbstractString, filename::AbstractString=&quot;string&quot;)
</span>
          </td>
        </tr>

        <tr>
          <td><a name="LSoftGlobalScope-jl-14d5dc20d77dcb6071a1-line.html-256"></a>256</td>
          <td></td>
          <td></td>
          <td>
            <span class="code">
</span>
          </td>
        </tr>

        <tr>
          <td><a name="LSoftGlobalScope-jl-14d5dc20d77dcb6071a1-line.html-257"></a>257</td>
          <td></td>
          <td></td>
          <td>
            <span class="code">Like [`include_string`](@ref), but evaluates `code` using &quot;soft&quot;
</span>
          </td>
        </tr>

        <tr>
          <td><a name="LSoftGlobalScope-jl-14d5dc20d77dcb6071a1-line.html-258"></a>258</td>
          <td></td>
          <td></td>
          <td>
            <span class="code">scoping rules for the global variables defined in `m`.
</span>
          </td>
        </tr>

        <tr>
          <td><a name="LSoftGlobalScope-jl-14d5dc20d77dcb6071a1-line.html-259"></a>259</td>
          <td></td>
          <td></td>
          <td>
            <span class="code">&quot;&quot;&quot;
</span>
          </td>
        </tr>

        <tr>
          <td><a name="LSoftGlobalScope-jl-14d5dc20d77dcb6071a1-line.html-260"></a>260</td>
          <td></td>
          <td></td>
          <td>
            <span class="code">softscope_include_string
</span>
          </td>
        </tr>

        <tr>
          <td><a name="LSoftGlobalScope-jl-14d5dc20d77dcb6071a1-line.html-261"></a>261</td>
          <td></td>
          <td></td>
          <td>
            <span class="code">
</span>
          </td>
        </tr>

        <tr>
          <td><a name="LSoftGlobalScope-jl-14d5dc20d77dcb6071a1-line.html-262"></a>262</td>
          <td></td>
          <td></td>
          <td>
            <span class="code">end # module
</span>
          </td>
        </tr>
      </table>
    </div>
  </body>
</html>
